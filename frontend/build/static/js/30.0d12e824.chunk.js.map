{"version":3,"sources":["views/Admin/AdminUser.js","redux/actions/user.js","../node_modules/react-bootstrap/esm/Table.js"],"names":["TYPES","AdminUser","props","dispatch","useDispatch","users","useSelector","state","user","userData","history","useHistory","useEffect","actionUserList","className","style","width","bottom","delay","textAlign","labelposition","border","borderRadius","Row","fontSize","margin","Col","span","src","alt","height","striped","hover","variant","minWidth","map","key","onClick","e","console","log","actionUserSetCurrent","push","onUserClick","cursor","email","walletAddress","role","type","token","localStorage","getItem","JSON","parse","actionUserCreate","tokenData","callPost","then","response","Notification","success","title","message","ACTION_USER_ADD","payload","catch","err","error","count","callGet","result","data","ACTION_USER_LIST","ACTION_USER_LIST_FAIL","actionUserUpdate","ACTION_USER_UPDATE","actionUserUpdateCard","cardData","actionAuthUpdateCard","card","ACTION_USER_SET_CURRENT","_excluded","Table","React","forwardRef","_ref","ref","bsPrefix","bordered","borderless","size","responsive","_objectWithoutPropertiesLoose","decoratedBsPrefix","useBootstrapPrefix","classes","classNames","table","createElement","_extends","responsiveClass"],"mappings":"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","file":"static/js/30.0d12e824.chunk.js","sourcesContent":["import React, { useEffect } from \"react\"\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Layout, Notification } from \"element-react\"\r\nimport Fade from \"react-reveal/Fade\"\r\nimport { Table as TableBs } from 'react-bootstrap';\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { actionUserList, actionUserSetCurrent } from \"../../redux/actions/user\";\r\n\r\n// import { CONTRACT_ABI } from '../../config/abi';\r\n\r\nconst TYPES = ['NONE', 'BASIC', 'GOLD', 'PREMIUM'];\r\n\r\nconst AdminUser = props => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const users = useSelector(state => state.user.userData);\r\n  const history = useHistory();\r\n\r\n  useEffect(()=>{\r\n    // if(!users)\r\n      dispatch(actionUserList());\r\n  },[]);\r\n\r\n  const successMsg = (msg) => {\r\n    Notification.success({\r\n      title: 'Success',\r\n      message: 'Transaction Success!',\r\n      type: 'success',\r\n    });\r\n  }\r\n\r\n  const errorMsg = () => {\r\n    Notification.error({\r\n      title: 'Failed',\r\n      message: 'Transaction failed. Please try again!',\r\n      type: 'Warning',\r\n    });\r\n  }\r\n\r\n  const onUserClick = (e, key) => {\r\n    console.log('user click', key);\r\n    dispatch(actionUserSetCurrent(users[key]));\r\n    history.push('/admin/users/update');\r\n  }\r\n  // const onTransferSubmit = async (e) => {\r\n  //   e.preventDefault();\r\n  //   setModalIndex(-1);\r\n  //   const payload = {\r\n  //     fromAddress: e.target.fromAddress.value,\r\n  //     toAddress: e.target.toAddress.value,\r\n  //     tokenAddress: e.target.tokenAddress.value,\r\n  //     tokenAmount: e.target.tokenAmount.value,\r\n  //     chainId: 42,\r\n  //   }\r\n\r\n  //   let transferResult = await transferToken(credentials[0]?.infuraProjectEndpoint, credentials[0]?.walletPrivateKey, payload.fromAddress, payload.toAddress, payload.tokenAddress, payload.tokenAmount, payload.chainId);\r\n  //   if (transferResult.success) {\r\n  //     successMsg();\r\n  //   } else {\r\n  //     errorMsg();\r\n  //   }\r\n  // }\r\n\r\n  return (\r\n    <div className=\"d-flex flex-column justify-content-center align-items-center overflow-hidden\">\r\n      <div style={{ width: '80%' }}>\r\n        <Fade bottom delay={200}>\r\n          <h1 style={{ textAlign: \"center\" }} className='d-font-bold d-text-90 d-white'>Users</h1>\r\n          {/* <div className=\"d-flex\">\r\n            <Link to=\"/admin/users/new\" className=\"ms-auto\">\r\n              <Button type=\"outlined\">New User</Button>\r\n            </Link>\r\n          </div> */}\r\n          <div className=\"login-ruleForm mt-4\" labelposition={\"top\"} style={{ border: \"2px solid #03ffa4\", borderRadius: \"10px 10px 0 0\" }}>\r\n            <Layout.Row style={{ fontSize: 25, margin: \"-1px 0px 0 0px\" }}>\r\n              <Layout.Col span=\"24\">\r\n                <div className=\"grid-content d-content-highlight d-flex\" style={{ borderRadius: \"10px 10px 1px 1px\" }}>\r\n                  <div className=\"ms-3\">List</div>\r\n                  <div className=\"ms-auto me-3 d-flex align-items-center\">\r\n                    <img src=\"imgs/logo3.png\" alt='logo' style={{ height: \"35px\" }} />\r\n                  </div>\r\n                </div>\r\n              </Layout.Col>\r\n            </Layout.Row>\r\n\r\n            <div className=\"w-100 overflow-auto\">\r\n              <TableBs striped hover variant=\"dark\" style={{ margin: 0 }} className=\"text-center\">\r\n                <thead>\r\n                  <tr>\r\n                    <th className=\"bg-secondary\">#</th>\r\n                    <th className=\"bg-secondary\" style={{ minWidth: 130 }}>Email</th>\r\n                    <th className=\"bg-secondary\" style={{ minWidth: 130 }}>Wallet Address</th>\r\n                    <th className=\"bg-secondary\" style={{ minWidth: 130 }}>Role</th>\r\n                    <th className=\"bg-secondary\" style={{ minWidth: 130 }}>Type</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {\r\n                    users.map((user, key) =>\r\n                      <tr key={key} onClick={(e) => onUserClick(e, key)} style={{ cursor: 'pointer' }}>\r\n                        <td>{key + 1}</td>\r\n                        <td>{user.email}</td>\r\n                        <td>{user.walletAddress}</td>\r\n                        <td>{user.role[0]}</td>\r\n                        <td>{TYPES[user.type]}</td>\r\n                      </tr>\r\n                    )\r\n                  }\r\n                </tbody>\r\n              </TableBs>\r\n            </div>\r\n          </div>\r\n        </Fade>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AdminUser;","import {\r\n  ACTION_USER_ADD,\r\n  ACTION_USER_LIST,\r\n  ACTION_USER_LIST_FAIL,\r\n  ACTION_USER_SET_CURRENT,\r\n  ACTION_USER_UPDATE\r\n} from '../actionTypes/user'\r\nimport { actionAuthUpdateCard } from './auth'\r\n\r\nimport { callGet, callPost, } from '../../services/axios'\r\nimport { Notification } from 'element-react'\r\n\r\nconst token = localStorage.getItem('user') ? JSON.parse(localStorage.getItem('user'))['accessToken'] : null\r\n\r\nexport const actionUserCreate = (tokenData) => (dispatch) => {\r\n  callPost('/api/admin/user', tokenData, token)\r\n    .then((response) => {\r\n      Notification.success({\r\n        title: 'Success',\r\n        message: 'House Properties Submit Success!',\r\n        type: 'success',\r\n      })\r\n      dispatch({\r\n        type: ACTION_USER_ADD,\r\n        payload: tokenData,\r\n      })\r\n    }).catch(err => {\r\n      console.log(err);\r\n      Notification.error({\r\n        title: 'Failed',\r\n        message: 'Please try again.',\r\n        type: 'Warning',\r\n      })\r\n    }\r\n  )\r\n}\r\n\r\nexport const actionUserList = (count) => (dispatch) => {\r\n  return callGet(`/api/user?count=${count}`)\r\n    .then(function (response) {\r\n      let result = response.data\r\n      dispatch({\r\n        type: ACTION_USER_LIST,\r\n        payload: result,\r\n      })\r\n    })\r\n    .catch((error) => {\r\n      dispatch({\r\n        type: ACTION_USER_LIST_FAIL,\r\n      })\r\n    }\r\n  )\r\n}\r\n\r\nexport const actionUserUpdate = (userData) => dispatch => {\r\n  callPost('/api/admin/user/update', userData, token)\r\n    .then((response) => {\r\n      console.log('[res]', response);\r\n      Notification.success({\r\n        title: 'Success',\r\n        message: response.data.message,\r\n        type: 'success',\r\n      })\r\n      dispatch({\r\n        type: ACTION_USER_UPDATE,\r\n        payload: userData,\r\n      })\r\n    }).catch(err => {\r\n      console.log(err);\r\n      Notification.error({\r\n        title: 'Failed',\r\n        message: 'Transaction update failed. Please try again.',\r\n        type: 'Warning',\r\n      })\r\n    }\r\n  )\r\n}\r\n\r\nexport const actionUserUpdateCard = (cardData) => dispatch => {\r\n  callPost('/api/admin/user/update/card', cardData, token)\r\n    .then((response) => {\r\n      console.log('[res]', response);\r\n      Notification.success({\r\n        title: 'Success',\r\n        message: response.data.message,\r\n        type: 'success',\r\n      })\r\n      dispatch(actionAuthUpdateCard(cardData.card));\r\n    }).catch(err => {\r\n      console.log(err);\r\n      Notification.error({\r\n        title: 'Failed',\r\n        message: 'Transaction update failed. Please try again.',\r\n        type: 'Warning',\r\n      })\r\n    }\r\n  )\r\n} \r\n\r\nexport const actionUserSetCurrent = (user) => dispatch => {\r\n  dispatch({\r\n    type:ACTION_USER_SET_CURRENT,\r\n    payload: user\r\n  })\r\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"className\", \"striped\", \"bordered\", \"borderless\", \"hover\", \"size\", \"variant\", \"responsive\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar Table = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      striped = _ref.striped,\n      bordered = _ref.bordered,\n      borderless = _ref.borderless,\n      hover = _ref.hover,\n      size = _ref.size,\n      variant = _ref.variant,\n      responsive = _ref.responsive,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'table');\n  var classes = classNames(className, decoratedBsPrefix, variant && decoratedBsPrefix + \"-\" + variant, size && decoratedBsPrefix + \"-\" + size, striped && decoratedBsPrefix + \"-striped\", bordered && decoratedBsPrefix + \"-bordered\", borderless && decoratedBsPrefix + \"-borderless\", hover && decoratedBsPrefix + \"-hover\");\n  var table = /*#__PURE__*/React.createElement(\"table\", _extends({}, props, {\n    className: classes,\n    ref: ref\n  }));\n\n  if (responsive) {\n    var responsiveClass = decoratedBsPrefix + \"-responsive\";\n\n    if (typeof responsive === 'string') {\n      responsiveClass = responsiveClass + \"-\" + responsive;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: responsiveClass\n    }, table);\n  }\n\n  return table;\n});\nexport default Table;"],"sourceRoot":""}