(this.webpackJsonpdineli=this.webpackJsonpdineli||[]).push([[40],{1098:function(e,t,n){"use strict";n.r(t);var i=n(112),c=n(1),l=n(12),a=n(107),s=n(110),r=n.n(s),o=n(109),u=n(425),d=n(9),m={citizen:[{required:!0,message:"This field is required",trigger:"blur"}],walletAddress:[{required:!0,message:"This field is required",trigger:"blur"}],email:[{required:!0,message:"This field is required",trigger:"blur"}],username:[{required:!0,message:"This field is required",trigger:"blur"}],phone:[{required:!0,message:"This field is required",trigger:"blur"}]},b=[{key:0,label:"No"},{key:1,label:"Yes"}],j=[{key:0,label:"No"},{key:1,label:"Yes"}],p=[{key:1,label:"USER"},{key:2,label:"MODERATOR"},{key:3,label:"ADMIN"}],h=[{key:1,label:"BASIC"},{key:2,label:"GOLD"},{key:3,label:"PREMIUM"}];t.default=function(e){var t=Object(o.d)((function(e){return e.user.currentUser}));Object(c.useEffect)((function(){console.log("update user",t),w(t.card),t.role&&f({firstname:t.firstname,lastname:t.lastname,username:t.username,phone:t.phone,email:t.email,citizen:Number(t.citizen),isActive:t.isActive?1:0,walletAddress:t.walletAddress,role:p.find((function(e){return e.label===t.role[0]})).key,type:t.type})}),[t]);var n=Object(c.useState)({}),s=Object(i.a)(n,2),g=s[0],f=s[1],O=Object(o.c)(),x=Object(l.g)(),y=Object(c.useRef)(),v=Object(c.useState)(t.card),N=Object(i.a)(v,2),I=N[0],w=N[1],S=function(e,t){var n=Object.assign({},g);n[e]=t,f(n)};return Object(d.jsx)("div",{className:"d-flex flex-column justify-content-center align-items-center overflow-hidden",children:Object(d.jsx)("div",{style:{width:"80%"},children:Object(d.jsx)(r.a,{bottom:!0,delay:200,children:Object(d.jsxs)(a.Form,{ref:y,model:g,rules:m,labelWidth:"100",className:"login-ruleForm d-font-bold",labelPosition:"top",style:{border:"2px solid #03ffa4",margin:20,borderRadius:10},children:[Object(d.jsx)(a.Layout.Row,{style:{fontSize:25,margin:"-1px 0px 15px 0px"},children:Object(d.jsx)(a.Layout.Col,{span:"24",children:Object(d.jsxs)("div",{className:"grid-content d-content-highlight d-flex",style:{borderRadius:"10px 10px 1px 1px"},children:[Object(d.jsx)("div",{className:"ms-3",children:"User Detail"}),Object(d.jsx)("div",{className:"ms-auto me-3 d-flex align-items-center",children:Object(d.jsx)("img",{src:"imgs/logo3.png",alt:"logo",style:{height:"35px"}})})]})})}),Object(d.jsxs)("div",{className:"container-fluid",children:[Object(d.jsx)("h3",{className:"my-3 text-white",children:"User Highlights"}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-md-6 mt-4",children:Object(d.jsx)("div",{className:" zoom-image bg-white d-flex rounded justify-content-center align-items-center position-relative overflow-hidden d-inline-block w-100 bg-image hover-zoom",style:{height:"100%",zIndex:"5"},children:I?Object(d.jsx)("img",{src:"".concat("https://dineli.com","/public/").concat(I),className:"w-100 h-100 img-thumbnail",alt:"img"}):Object(d.jsx)("img",{src:"imgs/empty.png",className:"w-100 h-100 img-thumbnail",alt:"img"})})}),Object(d.jsxs)("div",{className:"col-md-6 mt-4",children:[Object(d.jsx)(a.Form.Item,{label:"First name",prop:"firstname",children:Object(d.jsx)(a.Input,{type:"text",value:g.firstname,onChange:function(e){return S("firstname",e)}})}),Object(d.jsx)(a.Form.Item,{label:"Last name",prop:"lastname",children:Object(d.jsx)(a.Input,{type:"text",value:g.lastname,onChange:function(e){return S("lastname",e)}})}),Object(d.jsx)(a.Form.Item,{label:"User name",prop:"username",children:Object(d.jsx)(a.Input,{type:"text",value:g.username,onChange:function(e){return S("username",e)}})})]}),Object(d.jsx)("div",{className:"col-md-4 mt-4",children:Object(d.jsx)(a.Form.Item,{label:"Phone",prop:"phone",children:Object(d.jsx)(a.Input,{type:"text",value:g.phone,onChange:function(e){return S("phone",e)}})})}),Object(d.jsx)("div",{className:"col-md-4 mt-4",children:Object(d.jsx)(a.Form.Item,{label:"email",prop:"email",children:Object(d.jsx)(a.Input,{type:"email",value:g.email,onChange:function(e){return S("email",e)}})})}),Object(d.jsx)("div",{className:"col-md-2 mt-4",children:Object(d.jsx)(a.Form.Item,{label:"Citizen",prop:"citizen",children:Object(d.jsx)(a.Select,{className:"w-100",value:g.citizen,onChange:function(e){return S("citizen",e)},children:b.map((function(e){return Object(d.jsx)(a.Select.Option,{value:e.key,label:e.label,children:e.label})}))})})}),Object(d.jsx)("div",{className:"col-md-2 mt-4",children:Object(d.jsx)(a.Form.Item,{label:"Active",prop:"squareFeet",children:Object(d.jsx)(a.Select,{className:"w-100",value:g.isActive,onChange:function(e){return S("isActive",e)},children:j.map((function(e){return Object(d.jsx)(a.Select.Option,{value:e.key,label:e.label,children:e.label})}))})})}),Object(d.jsx)("div",{className:"col-md-8 mt-4",children:Object(d.jsx)(a.Form.Item,{label:"Wallet address",prop:"walletAddress",children:Object(d.jsx)(a.Input,{type:"text",value:g.walletAddress,onChange:function(e){return S("walletAddress",e)}})})}),Object(d.jsx)("div",{className:"col-md-2 mt-4",children:Object(d.jsx)(a.Form.Item,{label:"Role",prop:"neighborhood",children:Object(d.jsx)(a.Select,{className:"w-100",value:g.role,onChange:function(e){return S("role",e)},children:p.map((function(e){return Object(d.jsx)(a.Select.Option,{value:e.key,label:e.label,children:e.label})}))})})}),Object(d.jsx)("div",{className:"col-md-2 mt-4",children:Object(d.jsx)(a.Form.Item,{label:"Type",prop:"neighborhood",children:Object(d.jsx)(a.Select,{className:"w-100",value:g.type,onChange:function(e){return S("type",e)},children:h.map((function(e){return Object(d.jsx)(a.Select.Option,{value:e.key,label:e.label,children:e.label})}))})})})]})]}),Object(d.jsx)(a.Form.Item,{style:{textAlign:"center"},children:Object(d.jsx)(a.Button,{type:"primary",nativeType:"submit",onClick:function(e){e.preventDefault(),y.current.validate((function(e){var n=Object.assign({},g);n.id=t.id,O(Object(u.d)(n)),x.push("/admin/users")}))},children:"Update"})})]})})})})}},425:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return m}));var i=n(43),c=n(421),l=n(419),a=n(107),s=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).accessToken:null,r=function(e){return function(t){Object(l.d)("/api/admin/user",e,s).then((function(n){a.Notification.success({title:"Success",message:"House Properties Submit Success!",type:"success"}),t({type:i.a,payload:e})})).catch((function(e){console.log(e),a.Notification.error({title:"Failed",message:"Please try again.",type:"Warning"})}))}},o=function(e){return function(t){return Object(l.c)("/api/user?count=".concat(e)).then((function(e){var n=e.data;t({type:i.b,payload:n})})).catch((function(e){t({type:i.c})}))}},u=function(e){return function(t){Object(l.d)("/api/admin/user/update",e,s).then((function(n){console.log("[res]",n),a.Notification.success({title:"Success",message:n.data.message,type:"success"}),t({type:i.e,payload:e})})).catch((function(e){console.log(e),a.Notification.error({title:"Failed",message:"Transaction update failed. Please try again.",type:"Warning"})}))}},d=function(e){return function(t){Object(l.d)("/api/admin/user/update/card",e,s).then((function(n){console.log("[res]",n),a.Notification.success({title:"Success",message:n.data.message,type:"success"}),t(Object(c.g)(e.card))})).catch((function(e){console.log(e),a.Notification.error({title:"Failed",message:"Transaction update failed. Please try again.",type:"Warning"})}))}},m=function(e){return function(t){t({type:i.d,payload:e})}}}}]);
//# sourceMappingURL=40.3b317e17.chunk.js.map