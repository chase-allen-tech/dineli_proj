(this.webpackJsonpdineli=this.webpackJsonpdineli||[]).push([[27],{1102:function(e,t,n){"use strict";n.r(t);var i=n(419),c=n(1),a=n(108),l=n(12),r=n(106),o=n(109),s=n.n(o),u=n(418),d=n(583),b=n(9),m={title:[{required:!0,message:"Please input title",trigger:"blur"}],date:[{required:!0,message:"Please input date",trigger:"blur"}],content:[{required:!0,message:"Please input content",trigger:"blur"}],thumbnail:[{required:!0,message:"Please input thumbnail",trigger:"blur"}]};t.default=function(e){var t=Object(a.c)(),n=Object(l.g)(),o=Object(c.useRef)(),j=Object(a.d)((function(e){return e.auth.user})),h=Object(c.useState)({title:"",date:"",content:"",thumbnail:""}),g=Object(i.a)(h,2),p=g[0],f=g[1],x=Object(c.useState)(null),O=Object(i.a)(x,2),y=O[0],v=O[1],N=function(e,t){var n=Object.assign({},p);n[e]=t,f(n)};return Object(b.jsx)("div",{className:"d-flex flex-column justify-content-center align-items-center overflow-hidden",children:Object(b.jsx)("div",{style:{width:"80%"},children:Object(b.jsx)(s.a,{bottom:!0,delay:200,children:Object(b.jsxs)(r.Form,{ref:o,model:p,rules:m,labelWidth:"100",className:"login-ruleForm d-font-bold",labelPosition:"top",style:{border:"2px solid #03ffa4",margin:20,borderRadius:10},children:[Object(b.jsx)(r.Layout.Row,{style:{fontSize:25,margin:"-1px 0px 15px 0px"},children:Object(b.jsx)(r.Layout.Col,{span:"24",children:Object(b.jsxs)("div",{className:"grid-content d-content-highlight d-flex",style:{borderRadius:"10px 10px 1px 1px"},children:[Object(b.jsx)("div",{className:"ms-3",children:"Blog Detail"}),Object(b.jsx)("div",{className:"ms-auto me-3 d-flex align-items-center",children:Object(b.jsx)("img",{src:"imgs/logo3.png",alt:"logo",style:{height:"35px"}})})]})})}),Object(b.jsx)("div",{className:"container-fluid",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-md-12",children:Object(b.jsx)(r.Form.Item,{label:"Title",prop:"title",children:Object(b.jsx)(r.Input,{value:p.title,onChange:function(e){return N("title",e)}})})}),Object(b.jsx)("div",{className:"col-md-12",children:Object(b.jsx)(r.Form.Item,{label:"Date",prop:"date",children:Object(b.jsx)(r.Input,{type:"date",value:p.date,onChange:function(e){return N("date",e)},autoComplete:"off"})})}),Object(b.jsx)("div",{className:"col-md-12",children:Object(b.jsx)(r.Form.Item,{label:"Description",prop:"content",children:Object(b.jsx)(r.Input,{type:"content",value:p.content,onChange:function(e){return N("content",e)},autoComplete:"off"})})}),Object(b.jsx)("div",{className:"col-md-12",children:Object(b.jsx)(r.Form.Item,{label:"Thumbnail",children:Object(b.jsxs)("div",{className:"bg-white d-flex rounded justify-content-center align-items-center position-relative overflow-hidden d-inline-block w-100",style:{height:36},children:[y?Object(b.jsx)("div",{className:"text-muted bg-white",children:y.name}):Object(b.jsx)("div",{className:"text-muted bg-white",style:{fontSize:30},children:"+"}),Object(b.jsx)("input",{type:"file",onChange:function(e){v(e.target.files[0])},className:"position-absolute top-0 left-0 opacity-0 w-100 h-100"})]})})}),Object(b.jsx)("div",{className:"col-md-12",children:Object(b.jsx)(r.Form.Item,{style:{textAlign:"center"},children:Object(b.jsx)(r.Button,{type:"success",onClick:function(){o.current.validate((function(e){if(console.log(e,y),!e||!y)return!1;var i=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).accessToken:null,c=new FormData;c.append("img",y,y.name),Object(u.d)("/api/admin/image/upload",c,i).then((function(e){console.log("[Image Uploaded]",e);var i=Object.assign({},p);i.userId=j.id,i.thumbnail=e.data.imgPath,t(Object(d.a)(i)),n.push("/admin/blogs")})).catch((function(e){console.log("[Image Upload Fail]",e)}))}))},children:"Create"})})})]})})]})})})})}},419:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(110);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,c=!1,a=void 0;try{for(var l,r=e[Symbol.iterator]();!(i=(l=r.next()).done)&&(n.push(l.value),!t||n.length!==t);i=!0);}catch(o){c=!0,a=o}finally{try{i||null==r.return||r.return()}finally{if(c)throw a}}return n}}(e,t)||Object(i.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},583:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i=n(53),c=n(418),a=n(106),l=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).accessToken:null,r=function(e){return function(t){Object(c.d)("/api/admin/blog",e,l).then((function(n){a.Notification.success({title:"Success",message:"House Properties Submit Success!",type:"success"}),t({type:i.a,payload:e})})).catch((function(e){console.log(e),a.Notification.error({title:"Failed",message:"Please try again.",type:"Warning"})}))}},o=function(e){return function(t){return Object(c.c)("/api/blog?count=".concat(e)).then((function(e){var n=e.data;t({type:i.d,payload:n})})).catch((function(e){t({type:i.e})}))}}}}]);
//# sourceMappingURL=27.33a3d492.chunk.js.map