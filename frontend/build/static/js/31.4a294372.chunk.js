(this.webpackJsonpdineli=this.webpackJsonpdineli||[]).push([[31],{1108:function(e,t,n){"use strict";n.r(t);var c=n(111),i=n(7),a=n(112),l=n(1),s=n(109),o=n(12),r=n(107),d=n(110),u=n.n(d),b=n(420),j=n(563),m=n(9),g={title:[{required:!0,message:"Please input title",trigger:"blur"}],date:[{required:!0,message:"Please input date",trigger:"blur"}],content:[{required:!0,message:"Please input content",trigger:"blur"}],thumbnail:[{required:!0,message:"Please input thumbnail",trigger:"blur"}]};t.default=function(e){var t=Object(s.c)(),n=Object(o.g)(),d=Object(l.useRef)(),p=Object(s.d)((function(e){return e.auth.user})),h=Object(l.useState)({title:"",date:"",content:"",thumbnail:""}),f=Object(a.a)(h,2),x=f[0],O=f[1],v=Object(l.useState)(null),y=Object(a.a)(v,2),N=y[0],I=y[1],w=function(e,t){O(Object(i.a)(Object(i.a)({},x),{},Object(c.a)({},e,t)))};return Object(m.jsx)("div",{className:"d-flex flex-column justify-content-center align-items-center overflow-hidden",children:Object(m.jsx)("div",{style:{width:"80%"},children:Object(m.jsx)(u.a,{bottom:!0,delay:200,children:Object(m.jsxs)(r.Form,{ref:d,model:x,rules:g,labelWidth:"100",className:"login-ruleForm d-font-bold",labelPosition:"top",style:{border:"2px solid #03ffa4",margin:20,borderRadius:10},children:[Object(m.jsx)(r.Layout.Row,{style:{fontSize:25,margin:"-1px 0px 15px 0px"},children:Object(m.jsx)(r.Layout.Col,{span:"24",children:Object(m.jsxs)("div",{className:"grid-content d-content-highlight d-flex",style:{borderRadius:"10px 10px 1px 1px"},children:[Object(m.jsx)("div",{className:"ms-3",children:"Blog Detail"}),Object(m.jsx)("div",{className:"ms-auto me-3 d-flex align-items-center",children:Object(m.jsx)("img",{src:"imgs/logo3.png",alt:"logo",style:{height:"35px"}})})]})})}),Object(m.jsx)("div",{className:"container-fluid",children:Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-md-12",children:Object(m.jsx)(r.Form.Item,{label:"Title",prop:"title",children:Object(m.jsx)(r.Input,{value:x.title,onChange:function(e){return w("title",e)}})})}),Object(m.jsx)("div",{className:"col-md-12",children:Object(m.jsx)(r.Form.Item,{label:"Date",prop:"date",children:Object(m.jsx)(r.Input,{type:"date",value:x.date,onChange:function(e){return w("date",e)},autoComplete:"off"})})}),Object(m.jsx)("div",{className:"col-md-12",children:Object(m.jsx)(r.Form.Item,{label:"Description",prop:"content",children:Object(m.jsx)(r.Input,{type:"content",value:x.content,onChange:function(e){return w("content",e)},autoComplete:"off"})})}),Object(m.jsx)("div",{className:"col-md-12",children:Object(m.jsx)(r.Form.Item,{label:"Thumbnail",children:Object(m.jsxs)("div",{className:"bg-white d-flex rounded justify-content-center align-items-center position-relative overflow-hidden d-inline-block w-100",style:{height:36},children:[N?Object(m.jsx)("div",{className:"text-muted bg-white",children:N.name}):Object(m.jsx)("div",{className:"text-muted bg-white",style:{fontSize:30},children:"+"}),Object(m.jsx)("input",{type:"file",onChange:function(e){I(e.target.files[0])},className:"position-absolute top-0 left-0 opacity-0 w-100 h-100"})]})})}),Object(m.jsx)("div",{className:"col-md-12",children:Object(m.jsx)(r.Form.Item,{style:{textAlign:"center"},children:Object(m.jsx)(r.Button,{type:"success",onClick:function(){d.current.validate((function(e){if(console.log(e,N),!e||!N)return!1;var c=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).accessToken:null,i=new FormData;i.append("img",N,N.name),Object(b.d)("/api/admin/image/upload",i,c).then((function(e){console.log("[Image Uploaded]",e);var c=Object.assign({},x);c.userId=p.id,c.thumbnail=e.data.imgPath,t(Object(j.a)(c)),n.push("/admin/blogs")})).catch((function(e){console.log("[Image Upload Fail]",e)}))}))},children:"Create"})})})]})})]})})})})}},563:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o}));var c=n(50),i=n(420),a=n(107),l=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).accessToken:null,s=function(e){return function(t){Object(i.d)("/api/admin/blog",e,l).then((function(n){a.Notification.success({title:"Success",message:"House Properties Submit Success!",type:"success"}),t({type:c.a,payload:e})})).catch((function(e){console.log(e),a.Notification.error({title:"Failed",message:"Please try again.",type:"Warning"})}))}},o=function(e){return function(t){return Object(i.c)("/api/blog?count=".concat(e)).then((function(e){var n=e.data;t({type:c.d,payload:n})})).catch((function(e){t({type:c.e})}))}}}}]);
//# sourceMappingURL=31.4a294372.chunk.js.map