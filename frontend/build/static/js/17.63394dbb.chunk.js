(this.webpackJsonpdineli=this.webpackJsonpdineli||[]).push([[17],{1086:function(e,t,n){"use strict";n.r(t);var r=n(18),c=n(479),s=n(112),o=n(1),i=n(107),a=n(12),l=n(66),d=n(433),u=(n(781),n(109)),b=n(420),j=n(523),h=n(9);t.default=function(e){var t=Object(o.useState)(!0),n=Object(s.a)(t,2),m=n[0],f=n[1],y=Object(a.g)(),O=Object(a.h)().productID,g=Object(u.c)(),p=Object(u.d)((function(e){return e.property.currentHouse}));console.log("product]",p);var x=Object(o.useState)([]),v=Object(s.a)(x,2),N=v[0],k=v[1],S=Object(o.useState)({}),w=Object(s.a)(S,2),I=w[0],T=w[1];Object(o.useEffect)((function(){localStorage.getItem("user")||(localStorage.removeItem("cartProducts"),y.goBack()),window.scrollTo(0,0)}),[]),Object(o.useEffect)((function(){g(Object(b.b)(O))}),[O]),Object(o.useEffect)((function(){var e=JSON.parse(localStorage.getItem("cartProducts"));if(e=e&&e.length?e:[],"null"===O)k(e);else{if(!p||0===Object.keys(p).length)return;e.find((function(e){return e.id===p.id}))||e.push(p),k(e),e.length>0&&localStorage.setItem("cartProducts",JSON.stringify(e))}console.log(e);var t,n={},r=Object(c.a)(e);try{for(r.s();!(t=r.n()).done;){var s=t.value;n[s.id.toString()]=s.tokenQuantity?Number(s.tokenQuantity):0}}catch(o){r.e(o)}finally{r.f()}T(n)}),[p]);return Object(h.jsxs)("div",{style:{margin:"3% 12%",border:"none"},children:[Object(h.jsx)(i.Layout.Row,{children:Object(h.jsx)(i.Layout.Col,{span:"24",children:Object(h.jsx)("div",{className:"grid-content",children:Object(h.jsx)("div",{className:"block",children:Object(h.jsx)("span",{className:"wrapper",children:Object(h.jsx)(l.b,{to:"/marketplace",children:Object(h.jsx)(i.Button,{type:"success",className:"d-font-bold d-text-28",style:{background:"#03ffa4",color:"black",borderRadius:10},children:"CONTINUE SHOPPING"})})})})})})}),Object(h.jsxs)(d.a,{striped:!0,hover:!0,variant:"dark",style:{margin:0},className:"text-center mt-4",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{className:"bg-secondary"}),Object(h.jsx)("th",{className:"bg-secondary",children:"Asset Price"}),Object(h.jsx)("th",{className:"bg-secondary",style:{minWidth:100},children:"Asset Price"}),Object(h.jsx)("th",{className:"bg-secondary",style:{minWidth:100},children:"Total Fees"}),Object(h.jsx)("th",{className:"bg-secondary",style:{minWidth:100},children:"Purchase Price"}),Object(h.jsx)("th",{className:"bg-secondary",style:{minWidth:200},children:"Quantity"}),Object(h.jsx)("th",{className:"bg-secondary",style:{minWidth:110},children:"Subtotal"})]})}),Object(h.jsx)("tbody",{children:N.map((function(e,t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:Object(h.jsx)("div",{onClick:function(){return function(e){console.log("[enter]",e);var t=JSON.parse(localStorage.getItem("cartProducts")),n=t.findIndex((function(t){return t.id===e}));console.log(t,n),t.splice(n,1),console.log(t),localStorage.setItem("cartProducts",JSON.stringify(t)),k(t);var r=I;delete r[e.toString()],T(r)}(e.id)},children:Object(h.jsx)(i.Icon,{className:"product-cart-delete",name:"circle-cross",style:{color:"white",cursor:"pointer"}})})}),Object(h.jsx)("td",{children:Object(h.jsx)("img",{src:"".concat("https://dineli.com","/public/").concat(e.imageData[0]),alt:"img",width:"100"})}),Object(h.jsxs)("td",{children:["$",null===e||void 0===e?void 0:e.assetPrice]}),Object(h.jsxs)("td",{children:["$",Object(j.a)(null===e||void 0===e?void 0:e.tokenValue,I[e.id.toString()]).toFixed(2)]}),Object(h.jsxs)("td",{children:["$",null===e||void 0===e?void 0:e.tokenValue.toFixed(2)]}),Object(h.jsx)("td",{children:Object(h.jsx)(i.Input,{type:"number",value:I[e.id.toString()],onChange:function(t){return function(e,t){var n=Object.assign({},I);n[e]=t,T(n);var c=Object(r.a)(N),s=c.findIndex((function(t){return t.id===Number(e)}));c[s].tokenQuantity=t,localStorage.setItem("cartProducts",JSON.stringify(c))}(e.id.toString(),t)}})}),Object(h.jsxs)("td",{children:["$",Object(j.b)(null===e||void 0===e?void 0:e.tokenValue,I[e.id.toString()]).toFixed(2)]})]},t)}))})]}),Object(h.jsx)(i.Layout.Row,{children:Object(h.jsx)(i.Layout.Col,{span:"24",style:{marginTop:30,textAlign:"right"},children:Object(h.jsx)("div",{className:"grid-content",children:Object(h.jsx)("div",{className:"block",children:Object(h.jsx)("span",{className:"wrapper"})})})})}),Object(h.jsxs)(i.Layout.Row,{children:[Object(h.jsx)(i.Layout.Col,{md:"14",style:{marginTop:20},children:Object(h.jsx)("div",{className:"grid-content"})}),Object(h.jsx)(i.Layout.Col,{md:"10",style:{marginTop:20},children:Object(h.jsxs)("div",{className:"grid-content",children:[Object(h.jsx)("div",{className:"block",children:Object(h.jsx)("label",{className:"d-font-bold d-text-48 d-white",children:"Cart Totals"})}),Object(h.jsxs)(i.Layout.Row,{style:{marginTop:30},children:[Object(h.jsx)(i.Layout.Col,{span:"12",children:Object(h.jsx)("div",{className:"grid-content d-font-bold d-text-28 d-white",children:"Total"})}),Object(h.jsx)(i.Layout.Col,{span:"12",children:Object(h.jsxs)("div",{className:"grid-content d-font-bold d-text-28 d-white",style:{textAlign:"right"},children:["$",N.reduce((function(e,t){return e+Object(j.b)(null===t||void 0===t?void 0:t.tokenValue,I[t.id.toString()])}),0)]})})]}),Object(h.jsx)("div",{className:"block",style:{marginTop:30},children:Object(h.jsx)("span",{className:"wrapper",children:Object(h.jsx)(l.b,{to:"/checkout",children:Object(h.jsx)(i.Button,{type:"success",className:"d-font-bold d-text-28",style:{width:"100%",background:"#03ffa4",color:"black",borderRadius:10},children:"PROCEED TO CHECKOUT"})})})}),Object(h.jsxs)("div",{style:{border:"1px solid #03ffa4",marginTop:20},children:[Object(h.jsx)("div",{className:"block",style:{textAlign:"center",margin:10},children:Object(h.jsx)("label",{className:"d-font-bold d-text-24 d-white",children:"IS THIS ORDER A GIFT?"})}),Object(h.jsx)("div",{className:"block",style:{textAlign:"center"},children:Object(h.jsx)("label",{onClick:function(){f(!m)},className:"d-font-bold d-text-24 d-white",style:{textDecoration:"underline"},children:"Learn More "})}),m&&Object(h.jsxs)("div",{className:"block",style:{textAlign:"justify",margin:20},children:[Object(h.jsx)("p",{className:"d-font-book d-text-20 d-white",children:"To make your order a gift, just check 'This order is a gift' at checkout, then enter the recipient's name, email, and your preferred delivery date. We'll email you a printable certificate to give in person, and we'll email that certificate to the gift recipient on the delivery date, too. "}),Object(h.jsx)("p",{className:"d-font-book d-text-20 d-white",children:"The recipient can follow a simple link or QR code to register and complete ID verification, including registering an Ethereum wallet. When they're done, we'll dispense their gift tokens!"}),Object(h.jsxs)("p",{className:"d-font-book d-text-20 d-white",children:[Object(h.jsx)("strong",{children:"Note:"})," Tokens may not yet be gifted to minors."]}),Object(h.jsxs)("p",{className:"d-font-book d-text-20 d-white",children:[Object(h.jsx)("strong",{children:"Important: "}),"Gift recipients who are U.S. citizens or residents must be verified as Accredited Investors before we can dispense their gifts."]})]})]})]})})]})]})}},420:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return l}));var r=n(41),c=n(419),s=n(107),o=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).accessToken:null,i=function(e){return function(t){Object(c.d)("/api/admin/property",e,o).then((function(n){s.Notification.success({title:"Success",message:"House Properties Submit Success!",type:"success"}),t({type:r.a,payload:e})})).catch((function(e){console.log(e),s.Notification.error({title:"Failed",message:"Please try again.",type:"Warning"})}))}},a=function(e){return function(t){return Object(c.c)("/api/property?count=".concat(e)).then((function(e){for(var n=e.data,c=0;c<n.length;c++)n[c].monthlyNetRent=n[c].monthlyGrossRent-n[c].monthlyCosts,n[c].yearlyNetRent=12*(n[c].monthlyGrossRent-n[c].monthlyCosts),n[c].totalInvestment=n[c].generatedToken*n[c].tokenValue,n[c].expectedYield=12*(n[c].monthlyGrossRent-n[c].monthlyCosts)/(n[c].generatedToken*n[c].tokenValue),n[c].imageData=n[c].imageData.split(",");t({type:r.d,payload:n})})).catch((function(e){t({type:r.e})}))}},l=function(e){return function(t){return Object(c.c)("/api/property/id?ID=".concat(e)).then((function(e){var n=e.data;return n.monthlyGrossRent=n.monthlyGrossRent,n.monthlyNetRent=n.monthlyGrossRent-n.monthlyCosts,n.yearlyNetRent=12*(n.monthlyGrossRent-n.monthlyCosts),n.totalInvestment=n.generatedToken*n.tokenValue,n.expectedYield=12*(n.monthlyGrossRent-n.monthlyCosts)/parseFloat(n.generatedToken*n.tokenValue),n.imageData=n.imageData.split(","),t({type:r.b,payload:n})})).catch((function(e){return t({type:r.c})}))}}},433:function(e,t,n){"use strict";var r=n(10),c=n(14),s=n(65),o=n.n(s),i=n(1),a=n.n(i),l=n(108),d=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],u=a.a.forwardRef((function(e,t){var n=e.bsPrefix,s=e.className,i=e.striped,u=e.bordered,b=e.borderless,j=e.hover,h=e.size,m=e.variant,f=e.responsive,y=Object(c.a)(e,d),O=Object(l.a)(n,"table"),g=o()(s,O,m&&O+"-"+m,h&&O+"-"+h,i&&O+"-striped",u&&O+"-bordered",b&&O+"-borderless",j&&O+"-hover"),p=a.a.createElement("table",Object(r.a)({},y,{className:g,ref:t}));if(f){var x=O+"-responsive";return"string"===typeof f&&(x=x+"-"+f),a.a.createElement("div",{className:x},p)}return p}));t.a=u},479:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(68);function c(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Object(r.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var c=0,s=function(){};return{s:s,n:function(){return c>=e.length?{done:!0}:{done:!1,value:e[c++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(a)throw o}}}}},523:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c}));var r=function(e,t){return parseFloat(e)*parseFloat(t)*.1},c=function(e,t){return parseFloat(e)*parseFloat(t)*1.1}},781:function(e,t,n){}}]);
//# sourceMappingURL=17.63394dbb.chunk.js.map