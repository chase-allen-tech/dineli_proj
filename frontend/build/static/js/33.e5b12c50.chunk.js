(this.webpackJsonpdineli=this.webpackJsonpdineli||[]).push([[33],{1091:function(e,t,r){"use strict";r.r(t);var n=r(112),l=r(1),s=r(12),i=r(107),a=r(110),o=r.n(a),c=r(109),u=r(420),d=r(419),m=r(9),b={rentStartsDate:[{required:!0,message:"This field is required",trigger:"blur"}],generatedToken:[{required:!0,message:"This field is required",trigger:"blur"}],propertyType:[{required:!0,message:"This field is required",trigger:"blur"}],neighborhood:[{required:!0,message:"This field is required",trigger:"blur"}],squareFeet:[{required:!0,message:"This field is required",trigger:"blur"}],lotSize:[{required:!0,message:"This field is required",trigger:"blur"}],bedroomOrBath:[{required:!0,message:"This field is required",trigger:"blur"}],constructionYear:[{required:!0,message:"This field is required",trigger:"blur"}],currentStatusOfProperty:[{required:!0,message:"This field is required",trigger:"blur"}],section8:[{required:!0,message:"This field is required",trigger:"blur"}],monthlyGrossRent:[{required:!0,message:"This field is required",trigger:"blur"}],tax:[{required:!0,message:"This field is required",trigger:"blur"}],insuranceFee:[{required:!0,message:"This field is required",trigger:"blur"}],utility:[{required:!0,message:"This field is required",trigger:"blur"}],assetPrice:[{required:!0,message:"This field is required",trigger:"blur"}],fee:[{required:!0,message:"This field is required",trigger:"blur"}],initMaintainanceReserve:[{required:!0,message:"This field is required",trigger:"blur"}],basic:[{required:!0,message:"This field is required",trigger:"blur"}],gold:[{required:!0,message:"This field is required",trigger:"blur"}],premium:[{required:!0,message:"This field is required",trigger:"blur"}]},j=[{key:"single",label:"Single Family"},{key:"multi",label:"Multiple Family"}],h=[{key:"fully",label:"Fully Rented"},{key:"partially",label:"Partially Rented"},{key:"not",label:"Not Rented"}],p=[{key:"true",label:"Yes"},{key:"false",label:"No"}],g=[{key:"tenant-paid",label:"Tenant-Paid always"}];t.default=function(e){var t=Object(l.useState)({address1:null,address2:null,pos_latitude:null,pos_longitude:null,imageData:null,rentStartsDate:null,monthlyRentPerToken:null,tokenValue:null,generatedToken:null,propertyType:null,neighborhood:null,squareFeet:0,lotSize:0,bedroomOrBath:0,constructionYear:null,currentStatusOfProperty:null,section8:null,monthlyGrossRent:0,monthlyCosts:null,propertyManagementFee:null,platformFee:null,tax:0,insuranceFee:0,utility:null,assetPrice:0,fee:0,initMaintainanceReserve:0,basic:3,gold:5,premium:7}),r=Object(n.a)(t,2),a=r[0],y=r[1],x=Object(c.c)(),O=Object(s.g)(),f=Object(l.useRef)(),v=Object(l.useState)(null),F=Object(n.a)(v,2),I=F[0],N=F[1],T=function(e,t){var r=Object.assign({},a);r[e]=t;var n="monthlyGrossRent"==e?t:r.monthlyGrossRent;"monthlyGrossRent"==e?(r.propertyManagementFee=(.08*n).toFixed(2),r.platformFee=(.02*n).toFixed(2)):"generatedToken"!=e&&"assetPrice"!=e||(r.tokenValue=0!=r.generatedToken?(r.assetPrice/parseFloat(r.generatedToken)).toFixed(2):null),r.monthlyCosts=-(-r.propertyManagementFee-r.platformFee-r.tax-r.insuranceFee-r.fee).toFixed(2),r.monthlyRentPerToken=0!=r.generatedToken?(r.monthlyCosts/r.generatedToken).toFixed(2):null,y(r)};return Object(m.jsx)("div",{className:"d-flex flex-column justify-content-center align-items-center overflow-hidden",children:Object(m.jsx)("div",{style:{width:"80%"},children:Object(m.jsx)(o.a,{bottom:!0,delay:200,children:Object(m.jsxs)(i.Form,{ref:f,model:a,rules:b,labelWidth:"100",className:"login-ruleForm d-font-bold",labelPosition:"top",style:{border:"2px solid #03ffa4",margin:20,borderRadius:10},children:[Object(m.jsx)(i.Layout.Row,{style:{fontSize:25,margin:"-1px 0px 15px 0px"},children:Object(m.jsx)(i.Layout.Col,{span:"24",children:Object(m.jsxs)("div",{className:"grid-content d-content-highlight d-flex",style:{borderRadius:"10px 10px 1px 1px"},children:[Object(m.jsx)("div",{className:"ms-3",children:"Property Detail"}),Object(m.jsx)("div",{className:"ms-auto me-3 d-flex align-items-center",children:Object(m.jsx)("img",{src:"imgs/logo3.png",alt:"logo",style:{height:"35px"}})})]})})}),Object(m.jsxs)("div",{className:"container-fluid",children:[Object(m.jsx)("h3",{className:"my-3 text-white",children:"Property Highlights"}),Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsxs)("div",{className:"bg-white d-flex rounded justify-content-center align-items-center position-relative overflow-hidden d-inline-block w-100",style:{height:150},children:[I?Object(m.jsx)("img",{src:URL.createObjectURL(I),className:"w-100 h-100 img-thumbnail"}):Object(m.jsx)("div",{className:"text-muted bg-white",style:{fontSize:50},children:"+"}),Object(m.jsx)("input",{type:"file",onChange:function(e){N(e.target.files[0])},className:"position-absolute top-0 left-0 opacity-0 w-100 h-100 cursor-pointer"})]})}),Object(m.jsxs)("div",{className:"col-md-9 mt-4",children:[Object(m.jsx)(i.Form.Item,{label:"Address1",prop:"address1",children:Object(m.jsx)(i.Input,{type:"text",value:a.address1,onChange:function(e){return T("address1",e)}})}),Object(m.jsx)(i.Form.Item,{label:"Address2",prop:"address2",children:Object(m.jsx)(i.Input,{type:"text",value:a.address2,onChange:function(e){return T("address2",e)}})})]}),Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsx)(i.Form.Item,{label:"Construction Year",prop:"constructionYear",children:Object(m.jsx)(i.Input,{type:"date",value:a.constructionYear,onChange:function(e){return T("constructionYear",e)}})})}),Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsx)(i.Form.Item,{label:"Price",prop:"assetPrice",children:Object(m.jsx)(i.Input,{type:"number",value:a.assetPrice,onChange:function(e){return T("assetPrice",e)}})})}),Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsx)(i.Form.Item,{label:"Type",prop:"propertyType",children:Object(m.jsx)(i.Select,{className:"w-100",value:a.propertyType,onChange:function(e){return T("propertyType",e)},children:j.map((function(e){return Object(m.jsx)(i.Select.Option,{value:e.key,label:e.label,children:e.label})}))})})}),Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsx)(i.Form.Item,{label:"Bedroom/Bath",prop:"bedroomOrBath",children:Object(m.jsx)(i.Input,{type:"number",value:a.bedroomOrBath,onChange:function(e){return T("bedroomOrBath",e)}})})}),Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsx)(i.Form.Item,{label:"Square Feet",prop:"squareFeet",children:Object(m.jsx)(i.Input,{type:"number",value:a.squareFeet,onChange:function(e){return T("squareFeet",e)}})})}),Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsx)(i.Form.Item,{label:"Lot Size",prop:"lotSize",children:Object(m.jsx)(i.Input,{type:"number",value:a.lotSize,onChange:function(e){return T("lotSize",e)}})})}),Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsx)(i.Form.Item,{label:"Neighborhood",prop:"neighborhood",children:Object(m.jsx)(i.Input,{type:"text",value:a.neighborhood,onChange:function(e){return T("neighborhood",e)}})})}),Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsx)(i.Form.Item,{label:"Section 8",prop:"section8",children:Object(m.jsx)(i.Select,{className:"w-100",value:a.section8,onChange:function(e){return T("section8",e)},children:p.map((function(e){return Object(m.jsx)(i.Select.Option,{value:e.key,label:e.label,children:e.label})}))})})}),Object(m.jsx)("div",{className:"col-md-12",children:Object(m.jsx)("hr",{style:{color:"white"}})}),Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsx)(i.Form.Item,{label:"Rent Starts From",prop:"rentStartsDate",children:Object(m.jsx)(i.Input,{type:"date",value:a.rentStartsDate,onChange:function(e){return T("rentStartsDate",e)}})})}),Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsx)(i.Form.Item,{label:"Current Status",prop:"currentStatusOfProperty",children:Object(m.jsx)(i.Select,{className:"w-100",value:a.currentStatusOfProperty,onChange:function(e){return T("currentStatusOfProperty",e)},children:h.map((function(e){return Object(m.jsx)(i.Select.Option,{value:e.key,label:e.label,children:e.label})}))})})}),Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsx)(i.Form.Item,{label:"Utilities",prop:"utility",children:Object(m.jsx)(i.Select,{className:"w-100",value:a.utility,onChange:function(e){return T("utility",e)},children:g.map((function(e){return Object(m.jsx)(i.Select.Option,{value:e.key,label:e.label,children:e.label})}))})})}),Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsx)(i.Form.Item,{label:"Maintain Reserve",prop:"initMaintainanceReserve",children:Object(m.jsx)(i.Input,{type:"number",value:a.initMaintainanceReserve,onChange:function(e){return T("initMaintainanceReserve",e)}})})}),Object(m.jsx)("div",{className:"col-md-12",children:Object(m.jsx)("hr",{style:{color:"white"}})}),Object(m.jsx)("div",{className:"col-md-6 mt-4",children:Object(m.jsx)(i.Form.Item,{label:"Monthly Gross Rent",prop:"monthlyGrossRent",children:Object(m.jsx)(i.Input,{type:"number",value:a.monthlyGrossRent,onChange:function(e){return T("monthlyGrossRent",e)}})})}),Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsx)(i.Form.Item,{label:"Tax",prop:"tax",children:Object(m.jsx)(i.Input,{type:"number",value:a.tax,onChange:function(e){return T("tax",e)}})})}),Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsx)(i.Form.Item,{label:"Insurance",prop:"insuranceFee",children:Object(m.jsx)(i.Input,{type:"number",value:a.insuranceFee,onChange:function(e){return T("insuranceFee",e)}})})}),Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsx)(i.Form.Item,{label:"Fee",prop:"fee",children:Object(m.jsx)(i.Input,{type:"number",value:a.fee,onChange:function(e){return T("fee",e)}})})}),Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsx)(i.Form.Item,{label:"Monthly Cost",prop:"monthlyCosts",children:Object(m.jsx)(i.Input,{type:"number",value:a.monthlyCosts,onChange:function(e){return T("monthlyCosts",e)},disabled:!0})})}),Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsx)(i.Form.Item,{label:"Property Manage Fee",prop:"propertyManagementFee",children:Object(m.jsx)(i.Input,{type:"text",value:a.propertyManagementFee,onChange:function(e){return T("propertyManagementFee",e)},disabled:!0})})}),Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsx)(i.Form.Item,{label:"Platform Fee",prop:"platformFee",children:Object(m.jsx)(i.Input,{type:"text",value:a.platformFee,onChange:function(e){return T("platformFee",e)},disabled:!0})})}),Object(m.jsx)("div",{className:"col-md-12",children:Object(m.jsx)("hr",{style:{color:"white"}})}),Object(m.jsx)("div",{className:"col-md-6 mt-4",children:Object(m.jsx)(i.Form.Item,{label:"Token Amount",prop:"generatedToken",children:Object(m.jsx)(i.Input,{type:"number",value:a.generatedToken,onChange:function(e){return T("generatedToken",e)}})})}),Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsx)(i.Form.Item,{label:"Month Rent Per Token",prop:"monthlyRentPerToken",children:Object(m.jsx)(i.Input,{type:"number",value:a.monthlyRentPerToken,onChange:function(e){return T("monthlyRentPerToken",e)},disabled:!0})})}),Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsx)(i.Form.Item,{label:"Token Value",prop:"tokenValue",children:Object(m.jsx)(i.Input,{type:"number",value:a.tokenValue,onChange:function(e){return T("tokenValue",e)},disabled:!0})})}),Object(m.jsx)("div",{className:"col-md-12",children:Object(m.jsx)("hr",{style:{color:"white"}})}),Object(m.jsx)("div",{className:"col-md-4 mt-4",children:Object(m.jsx)(i.Form.Item,{label:"basic",prop:"basic",children:Object(m.jsx)(i.Input,{type:"number",value:a.basic,onChange:function(e){return T("basic",e)}})})}),Object(m.jsx)("div",{className:"col-md-4 mt-4",children:Object(m.jsx)(i.Form.Item,{label:"gold",prop:"gold",children:Object(m.jsx)(i.Input,{type:"number",value:a.gold,onChange:function(e){return T("gold",e)}})})}),Object(m.jsx)("div",{className:"col-md-4 mt-4",children:Object(m.jsx)(i.Form.Item,{label:"premium",prop:"premium",children:Object(m.jsx)(i.Input,{type:"number",value:a.premium,onChange:function(e){return T("premium",e)}})})})]})]}),Object(m.jsx)(i.Form.Item,{style:{textAlign:"center"},children:Object(m.jsx)(i.Button,{type:"primary",nativeType:"submit",onClick:function(e){e.preventDefault(),f.current.validate((function(e){var t=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).accessToken:null,r=new FormData;r.append("img",I,I.name),Object(d.d)("/api/admin/image/upload",r,t).then((function(e){console.log("[Image Uploaded]",e);var t=Object.assign({},a);t.imageData=[e.data.imgPath],x(Object(u.a)(t)),O.push("/admin/properties")})).catch((function(e){console.log("[Image Upload Fail]",e)}))}))},children:"Create"})})]})})})})}},420:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"b",(function(){return c}));var n=r(42),l=r(419),s=r(107),i=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).accessToken:null,a=function(e){return function(t){Object(l.d)("/api/admin/property",e,i).then((function(r){s.Notification.success({title:"Success",message:"House Properties Submit Success!",type:"success"}),t({type:n.a,payload:e})})).catch((function(e){console.log(e),s.Notification.error({title:"Failed",message:"Please try again.",type:"Warning"})}))}},o=function(e){return function(t){return Object(l.c)("/api/property?count=".concat(e)).then((function(e){for(var r=e.data,l=0;l<r.length;l++)r[l].monthlyNetRent=r[l].monthlyGrossRent-r[l].monthlyCosts,r[l].yearlyNetRent=12*(r[l].monthlyGrossRent-r[l].monthlyCosts),r[l].totalInvestment=r[l].generatedToken*r[l].tokenValue,r[l].expectedYield=12*(r[l].monthlyGrossRent-r[l].monthlyCosts)/(r[l].generatedToken*r[l].tokenValue),r[l].imageData=r[l].imageData.split(",");t({type:n.d,payload:r})})).catch((function(e){t({type:n.e})}))}},c=function(e){return function(t){return Object(l.c)("/api/property/id?ID=".concat(e)).then((function(e){var r=e.data;return r.monthlyGrossRent=r.monthlyGrossRent,r.monthlyNetRent=r.monthlyGrossRent-r.monthlyCosts,r.yearlyNetRent=12*(r.monthlyGrossRent-r.monthlyCosts),r.totalInvestment=r.generatedToken*r.tokenValue,r.expectedYield=12*(r.monthlyGrossRent-r.monthlyCosts)/parseFloat(r.generatedToken*r.tokenValue),r.imageData=r.imageData.split(","),t({type:n.b,payload:r})})).catch((function(e){return t({type:n.c})}))}}}}]);
//# sourceMappingURL=33.e5b12c50.chunk.js.map