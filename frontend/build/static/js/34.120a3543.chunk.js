(this.webpackJsonpdineli=this.webpackJsonpdineli||[]).push([[34],{1117:function(e,t,n){"use strict";n.r(t);var s=n(111),r=n(61),a=n(62),i=n(64),l=n(63),o=n(1),c=n(107),h=n(18),d=n(9),u=function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).handleSuccess=function(e,t,n){t.url="".concat("https://dineli.com","/").concat(e.message),s.props.changeImageData(Object(h.a)(n.map((function(e){return e.url}))))},s.state={dialogImageUrl:"",dialogVisible:!1},s}return Object(a.a)(n,[{key:"handleRemove",value:function(e,t){this.props.changeImageData(t.filter((function(t){return t!==e.response.message})).map((function(e){return e.url})))}},{key:"handlePictureCardPreview",value:function(e){this.setState({dialogImageUrl:e.url,dialogVisible:!0})}},{key:"render",value:function(){var e=this,t=this.state,n=t.dialogImageUrl,s=t.dialogVisible;return Object(d.jsxs)("div",{children:[Object(d.jsx)(c.Upload,{action:"".concat("https://dineli.com","/api/admin/image/upload"),headers:{"x-access-token":JSON.parse(localStorage.getItem("user")).accessToken},listType:"picture-card",onPreview:function(t){return e.handlePictureCardPreview(t)},onRemove:function(t,n){return e.handleRemove(t,n)},onSuccess:this.handleSuccess,fileList:[],children:Object(d.jsx)("i",{className:"el-icon-plus"})}),Object(d.jsx)(c.Dialog,{visible:s,size:"tiny",onCancel:function(){return e.setState({dialogVisible:!1})},children:Object(d.jsx)("img",{width:"100%",src:n,alt:""})})]})}}]),n}(o.Component),g=n(109),p={actionPropertyCreate:n(420).a},b=Object(g.b)((function(){return{}}),p)(function(e){Object(i.a)(n,e);var t=Object(l.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this,e)).changeImageData=function(e){s.setState((function(t){return t.form.imageData=e,t}))},s.state={isAdmin:!1,form:{address1:"",address2:"",pos_latitude:"",pos_longitude:"",imageData:[],rentStartsDate:"",yearlyRentPerToken:"",tokenValue:"",generatedToken:"",propertyType:"",neighborhood:"",squareFeet:"",lotSize:"",bedroomOrBath:"",constructionYear:"",currentStatusOfProperty:"",section8:"",yearlyGrossRent:"",monthlyCosts:"",_propertyManagement:"",_platform:"",_propertyTaxes:"",_insurance:"",_utilities:"",_underlyingAssetPrice:"",_listingFee:"",_initialMaintenanceReserve:""},rules:{address1:[{required:!0,message:"",trigger:"blur"}],address2:[{required:!0,message:"",trigger:"blur"}],pos_latitude:[{required:!0,message:"",trigger:"blur"}],pos_longitude:[{required:!0,message:"",trigger:"blur"}],rentStartsDate:[{type:"date",required:!0,message:"Please pick a date",trigger:"change"}],yearlyRentPerToken:[{required:!0,message:"",trigger:"blur"}],tokenValue:[{required:!0,message:"",trigger:"blur"}],generatedToken:[{required:!0,message:"",trigger:"blur"}],propertyType:[{required:!0,message:"",trigger:"blur"}],neighborhood:[{required:!0,message:"",trigger:"blur"}],squareFeet:[{required:!0,message:"",trigger:"blur"}],lotSize:[{required:!0,message:"",trigger:"blur"}],bedroomOrBath:[{required:!0,message:"",trigger:"blur"}],constructionYear:[{required:!0,message:"",trigger:"blur"}],currentStatusOfProperty:[{required:!0,message:"",trigger:"blur"}],section8:[{required:!0,message:"",trigger:"blur"}],yearlyGrossRent:[{required:!0,message:"",trigger:"blur"}],monthlyCosts:[{required:!0,message:"",trigger:"blur"}],_propertyManagement:[{required:!0,message:"",trigger:"blur"}],_platform:[{required:!0,message:"",trigger:"blur"}],_propertyTaxes:[{required:!0,message:"",trigger:"blur"}],_insurance:[{required:!0,message:"",trigger:"blur"}],_utilities:[{required:!0,message:"",trigger:"blur"}],_underlyingAssetPrice:[{required:!0,message:"",trigger:"blur"}],_listingFee:[{required:!0,message:"",trigger:"blur"}],_initialMaintenanceReserve:[{required:!0,message:"",trigger:"blur"}]}},s}return Object(a.a)(n,[{key:"onChange",value:function(e,t){this.setState({form:Object.assign({},this.state.form,Object(s.a)({},e,t))})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.refs.form.validate((function(e){return e?0===t.state.form.imageData.length?(alert("please select images to upload!"),!1):void t.props.actionPropertyCreate(t.state.form):(console.log("error submit!!"),!1)}))}},{key:"componentWillMount",value:function(){var e=JSON.parse(localStorage.getItem("user"));e&&e.roles.includes("ADMIN")?this.setState({isAdmin:!0}):this.props.history.push("/home")}},{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){return this.state.isAdmin&&Object(d.jsx)("div",{style:{margin:"0% 10% 0% 10%"},children:Object(d.jsxs)(c.Form,{ref:"form",model:this.state.form,rules:this.state.rules,labelWidth:"100",className:"register-ruleForm d-font-bold",labelPosition:"top",style:{border:"2px solid #03ffa4",margin:20,borderRadius:10},children:[Object(d.jsx)(c.Layout.Row,{style:{fontSize:25,margin:"-1px 0px 15px 0px"},children:Object(d.jsx)(c.Layout.Col,{span:"24",children:Object(d.jsxs)("div",{className:"grid-content d-content-highlight",style:{borderRadius:"10px 10px 1px 1px"},children:[Object(d.jsx)("div",{style:{display:"inline",marginLeft:10},children:"Property List"}),Object(d.jsx)("div",{style:{float:"right",display:"inline"},children:Object(d.jsx)("img",{src:"imgs/logo3.png",alt:"logo",style:{height:"35px",marginRight:20}})})]})})}),Object(d.jsx)("h1",{className:"d-white d-font-bold d-text-60",children:"Property Highlights"}),Object(d.jsxs)(c.Layout.Row,{children:[Object(d.jsx)(c.Layout.Col,{span:"6",children:Object(d.jsx)("div",{className:"grid-content bg-purple",children:Object(d.jsx)(c.Form.Item,{label:"Address1",prop:"address1",style:{margin:15},children:Object(d.jsx)(c.Input,{value:this.state.form.address1,onChange:this.onChange.bind(this,"address1")})})})}),Object(d.jsx)(c.Layout.Col,{span:"6",children:Object(d.jsx)("div",{className:"grid-content bg-purple-light",children:Object(d.jsx)(c.Form.Item,{label:"Address2",prop:"address2",style:{margin:15},children:Object(d.jsx)(c.Input,{value:this.state.form.address2,onChange:this.onChange.bind(this,"address2")})})})}),Object(d.jsx)(c.Layout.Col,{span:"6",children:Object(d.jsx)("div",{className:"grid-content bg-purple",children:Object(d.jsxs)(c.Form.Item,{label:"pos_latitude",prop:"pos_latitude",style:{margin:15},children:[Object(d.jsx)(c.Input,{value:this.state.form.pos_latitude,type:"number",onChange:this.onChange.bind(this,"pos_latitude")}),Object(d.jsx)("span",{className:"d-highlight",children:"deg"})]})})}),Object(d.jsx)(c.Layout.Col,{span:"6",children:Object(d.jsx)("div",{className:"grid-content bg-purple-light",children:Object(d.jsxs)(c.Form.Item,{label:"pos_longitude",prop:"pos_longitude",style:{margin:15},children:[Object(d.jsx)(c.Input,{value:this.state.form.pos_longitude,type:"number",onChange:this.onChange.bind(this,"pos_longitude")}),Object(d.jsx)("span",{className:"d-highlight",children:"deg"})]})})})]}),Object(d.jsxs)(c.Layout.Row,{children:[Object(d.jsx)(c.Layout.Col,{span:"6",children:Object(d.jsx)("div",{className:"grid-content bg-purple",children:Object(d.jsx)(c.Form.Item,{label:"Rent Starts from",prop:"rentStartsDate",style:{margin:15,width:"200%"},children:Object(d.jsx)(c.DatePicker,{value:this.state.form.rentStartsDate,placeholder:"Pick a date",onChange:this.onChange.bind(this,"rentStartsDate")})})})}),Object(d.jsx)(c.Layout.Col,{span:"6",children:Object(d.jsx)("div",{className:"grid-content bg-purple-light",children:Object(d.jsxs)(c.Form.Item,{label:"Yearly Rent Per Token",prop:"yearlyRentPerToken",style:{margin:15},children:[Object(d.jsx)(c.Input,{value:this.state.form.yearlyRentPerToken,type:"number",onChange:this.onChange.bind(this,"yearlyRentPerToken")}),Object(d.jsx)("span",{className:"d-highlight",children:"$/year"})]})})}),Object(d.jsx)(c.Layout.Col,{span:"6",children:Object(d.jsx)("div",{className:"grid-content bg-purple",children:Object(d.jsxs)(c.Form.Item,{label:"Token Value",prop:"tokenValue",style:{margin:15},children:[Object(d.jsx)(c.Input,{value:this.state.form.tokenValue,type:"number",onChange:this.onChange.bind(this,"tokenValue")}),Object(d.jsx)("span",{className:"d-highlight",children:"$"})]})})}),Object(d.jsx)(c.Layout.Col,{span:"6",children:Object(d.jsx)("div",{className:"grid-content bg-purple",children:Object(d.jsx)(c.Form.Item,{label:"Generated Token",prop:"generatedToken",style:{margin:15},children:Object(d.jsx)(c.Input,{value:this.state.form.generatedToken,type:"number",onChange:this.onChange.bind(this,"generatedToken")})})})})]}),Object(d.jsx)("h1",{className:"d-white d-font-bold d-text-60",children:"\xa0"}),Object(d.jsxs)(c.Layout.Row,{children:[Object(d.jsx)(c.Layout.Col,{span:"6",children:Object(d.jsx)("div",{className:"grid-content bg-purple",children:Object(d.jsx)(c.Form.Item,{label:"Property Type",prop:"propertyType",style:{margin:15},children:Object(d.jsx)(c.Input,{value:this.state.form.propertyType,onChange:this.onChange.bind(this,"propertyType")})})})}),Object(d.jsx)(c.Layout.Col,{span:"6",children:Object(d.jsx)("div",{className:"grid-content bg-purple",children:Object(d.jsx)(c.Form.Item,{label:"Neighborhood",prop:"neighborhood",style:{margin:15},children:Object(d.jsx)(c.Input,{value:this.state.form.neighborhood,onChange:this.onChange.bind(this,"neighborhood")})})})}),Object(d.jsx)(c.Layout.Col,{span:"6",children:Object(d.jsx)("div",{className:"grid-content bg-purple",children:Object(d.jsx)(c.Form.Item,{label:"Square Feet",prop:"squareFeet",style:{margin:15},children:Object(d.jsx)(c.Input,{value:this.state.form.squareFeet,type:"number",onChange:this.onChange.bind(this,"squareFeet")})})})}),Object(d.jsx)(c.Layout.Col,{span:"6",children:Object(d.jsx)("div",{className:"grid-content bg-purple",children:Object(d.jsx)(c.Form.Item,{label:"Lot Size",prop:"lotSize",style:{margin:15},children:Object(d.jsx)(c.Input,{value:this.state.form.lotSize,type:"number",onChange:this.onChange.bind(this,"lotSize")})})})})]}),Object(d.jsxs)(c.Layout.Row,{children:[Object(d.jsx)(c.Layout.Col,{span:"6",children:Object(d.jsx)("div",{className:"grid-content bg-purple",children:Object(d.jsx)(c.Form.Item,{label:"Bedroom/Bath",prop:"bedroomOrBath",style:{margin:15},children:Object(d.jsx)(c.Input,{value:this.state.form.bedroomOrBath,onChange:this.onChange.bind(this,"bedroomOrBath")})})})}),Object(d.jsx)(c.Layout.Col,{span:"6",children:Object(d.jsx)("div",{className:"grid-content bg-purple",children:Object(d.jsx)(c.Form.Item,{label:"Construction Year",prop:"constructionYear",style:{margin:15},children:Object(d.jsx)(c.Input,{value:this.state.form.constructionYear,type:"number",onChange:this.onChange.bind(this,"constructionYear")})})})}),Object(d.jsx)(c.Layout.Col,{span:"6",children:Object(d.jsx)("div",{className:"grid-content bg-purple",children:Object(d.jsx)(c.Form.Item,{label:"Current Status of Property",prop:"currentStatusOfProperty",style:{margin:15},children:Object(d.jsx)(c.Input,{value:this.state.form.currentStatusOfProperty,onChange:this.onChange.bind(this,"currentStatusOfProperty")})})})}),Object(d.jsx)(c.Layout.Col,{span:"6",children:Object(d.jsx)("div",{className:"grid-content bg-purple",children:Object(d.jsx)(c.Form.Item,{label:"Section 8",prop:"section8",style:{margin:15},children:Object(d.jsx)(c.Input,{value:this.state.form.section8,onChange:this.onChange.bind(this,"section8")})})})})]}),Object(d.jsx)("h1",{className:"d-white d-font-bold d-text-60",children:"Financials"}),Object(d.jsxs)(c.Layout.Row,{children:[Object(d.jsx)(c.Layout.Col,{span:"6",children:Object(d.jsx)("div",{className:"grid-content bg-purple",children:Object(d.jsxs)(c.Form.Item,{label:"Yearly Gross Rent",prop:"yearlyGrossRent",style:{margin:15},children:[Object(d.jsx)(c.Input,{value:this.state.form.yearlyGrossRent,type:"number",onChange:this.onChange.bind(this,"yearlyGrossRent")}),Object(d.jsx)("span",{className:"d-highlight",children:"$"})]})})}),Object(d.jsx)(c.Layout.Col,{span:"6",children:Object(d.jsx)("div",{className:"grid-content bg-purple",children:Object(d.jsxs)(c.Form.Item,{label:"monthlyCosts",prop:"monthlyCosts",style:{margin:15},children:[Object(d.jsx)(c.Input,{value:this.state.form.monthlyCosts,type:"number",onChange:this.onChange.bind(this,"monthlyCosts")}),Object(d.jsx)("span",{className:"d-highlight",children:"$"})]})})}),Object(d.jsx)(c.Layout.Col,{span:"6",children:Object(d.jsx)("div",{className:"grid-content bg-purple",children:Object(d.jsxs)(c.Form.Item,{label:"_propertyManagement",prop:"_propertyManagement",style:{margin:15},children:[Object(d.jsx)(c.Input,{value:this.state.form._propertyManagement,type:"number",onChange:this.onChange.bind(this,"_propertyManagement")}),Object(d.jsx)("span",{className:"d-highlight",children:"$"})]})})}),Object(d.jsx)(c.Layout.Col,{span:"6",children:Object(d.jsx)("div",{className:"grid-content bg-purple",children:Object(d.jsxs)(c.Form.Item,{label:"_platform",prop:"_platform",style:{margin:15},children:[Object(d.jsx)(c.Input,{value:this.state.form._platform,type:"number",onChange:this.onChange.bind(this,"_platform")}),Object(d.jsx)("span",{className:"d-highlight",children:"$"})]})})})]}),Object(d.jsxs)(c.Layout.Row,{children:[Object(d.jsx)(c.Layout.Col,{span:"6",children:Object(d.jsx)("div",{className:"grid-content bg-purple",children:Object(d.jsxs)(c.Form.Item,{label:"_propertyTaxes",prop:"_propertyTaxes",style:{margin:15},children:[Object(d.jsx)(c.Input,{value:this.state.form._propertyTaxes,type:"number",onChange:this.onChange.bind(this,"_propertyTaxes")}),Object(d.jsx)("span",{className:"d-highlight",children:"$"})]})})}),Object(d.jsx)(c.Layout.Col,{span:"6",children:Object(d.jsx)("div",{className:"grid-content bg-purple",children:Object(d.jsxs)(c.Form.Item,{label:"_insurance",prop:"_insurance",style:{margin:15},children:[Object(d.jsx)(c.Input,{value:this.state.form._insurance,type:"number",onChange:this.onChange.bind(this,"_insurance")}),Object(d.jsx)("span",{className:"d-highlight",children:"$"})]})})}),Object(d.jsx)(c.Layout.Col,{span:"6",children:Object(d.jsx)("div",{className:"grid-content bg-purple",children:Object(d.jsx)(c.Form.Item,{label:"_utilities",prop:"_utilities",style:{margin:15},children:Object(d.jsx)(c.Input,{value:this.state.form._utilities,onChange:this.onChange.bind(this,"_utilities")})})})})]}),Object(d.jsxs)(c.Layout.Row,{children:[Object(d.jsx)(c.Layout.Col,{span:"6",children:Object(d.jsx)("div",{className:"grid-content bg-purple",children:Object(d.jsxs)(c.Form.Item,{label:"_underlyingAssetPrice",prop:"_underlyingAssetPrice",style:{margin:15},children:[Object(d.jsx)(c.Input,{value:this.state.form._underlyingAssetPrice,type:"number",onChange:this.onChange.bind(this,"_underlyingAssetPrice")}),Object(d.jsx)("span",{className:"d-highlight",children:"$"})]})})}),Object(d.jsx)(c.Layout.Col,{span:"6",children:Object(d.jsx)("div",{className:"grid-content bg-purple",children:Object(d.jsxs)(c.Form.Item,{label:"_listingFee",prop:"_listingFee",style:{margin:15},children:[Object(d.jsx)(c.Input,{value:this.state.form._listingFee,type:"number",onChange:this.onChange.bind(this,"_listingFee")}),Object(d.jsx)("span",{className:"d-highlight",children:"$"})]})})}),Object(d.jsx)(c.Layout.Col,{span:"6",children:Object(d.jsx)("div",{className:"grid-content bg-purple",children:Object(d.jsxs)(c.Form.Item,{label:"_initialMaintenanceReserve",prop:"_initialMaintenanceReserve",style:{margin:15},children:[Object(d.jsx)(c.Input,{value:this.state.form._initialMaintenanceReserve,type:"number",onChange:this.onChange.bind(this,"_initialMaintenanceReserve")}),Object(d.jsx)("span",{className:"d-highlight",children:"$"})]})})})]}),Object(d.jsx)("div",{style:{margin:"1% 5%"},children:Object(d.jsx)(u,{changeImageData:this.changeImageData})}),Object(d.jsx)(c.Form.Item,{style:{textAlign:"center"},children:Object(d.jsx)(c.Button,{type:"success",onClick:this.handleSubmit.bind(this),children:"Submit"})})]})})}}]),n}(o.Component));t.default=b},420:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return c}));var s=n(41),r=n(419),a=n(107),i=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).accessToken:null,l=function(e){return function(t){Object(r.d)("/api/admin/property",e,i).then((function(n){a.Notification.success({title:"Success",message:"House Properties Submit Success!",type:"success"}),t({type:s.a,payload:e})})).catch((function(e){console.log(e),a.Notification.error({title:"Failed",message:"Please try again.",type:"Warning"})}))}},o=function(e){return function(t){return Object(r.c)("/api/property?count=".concat(e)).then((function(e){for(var n=e.data,r=0;r<n.length;r++)n[r].monthlyNetRent=n[r].monthlyGrossRent-n[r].monthlyCosts,n[r].yearlyNetRent=12*(n[r].monthlyGrossRent-n[r].monthlyCosts),n[r].totalInvestment=n[r].generatedToken*n[r].tokenValue,n[r].expectedYield=12*(n[r].monthlyGrossRent-n[r].monthlyCosts)/(n[r].generatedToken*n[r].tokenValue),n[r].imageData=n[r].imageData.split(",");t({type:s.d,payload:n})})).catch((function(e){t({type:s.e})}))}},c=function(e){return function(t){return Object(r.c)("/api/property/id?ID=".concat(e)).then((function(e){var n=e.data;return n.monthlyGrossRent=n.monthlyGrossRent,n.monthlyNetRent=n.monthlyGrossRent-n.monthlyCosts,n.yearlyNetRent=12*(n.monthlyGrossRent-n.monthlyCosts),n.totalInvestment=n.generatedToken*n.tokenValue,n.expectedYield=12*(n.monthlyGrossRent-n.monthlyCosts)/parseFloat(n.generatedToken*n.tokenValue),n.imageData=n.imageData.split(","),t({type:s.b,payload:n})})).catch((function(e){return t({type:s.c})}))}}}}]);
//# sourceMappingURL=34.120a3543.chunk.js.map