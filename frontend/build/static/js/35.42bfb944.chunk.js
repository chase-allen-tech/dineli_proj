(this.webpackJsonpdineli=this.webpackJsonpdineli||[]).push([[35],{1091:function(e,t,n){"use strict";n.r(t);var r=n(112),a=n(1),l=n(12),s=n(107),i=n(110),o=n.n(i),c=n(109),u=n(420),d=n(419),m=n(9),p={rentStartsDate:[{required:!0,message:"This field is required",trigger:"blur"}],generatedToken:[{required:!0,message:"This field is required",trigger:"blur"}],propertyType:[{required:!0,message:"This field is required",trigger:"blur"}],neighborhood:[{required:!0,message:"This field is required",trigger:"blur"}],squareFeet:[{required:!0,message:"This field is required",trigger:"blur"}],lotSize:[{required:!0,message:"This field is required",trigger:"blur"}],bedroomOrBath:[{required:!0,message:"This field is required",trigger:"blur"}],constructionYear:[{required:!0,message:"This field is required",trigger:"blur"}],currentStatusOfProperty:[{required:!0,message:"This field is required",trigger:"blur"}],section8:[{required:!0,message:"This field is required",trigger:"blur"}],monthlyGrossRent:[{required:!0,message:"This field is required",trigger:"blur"}],tax:[{required:!0,message:"This field is required",trigger:"blur"}],insuranceFee:[{required:!0,message:"This field is required",trigger:"blur"}],utility:[{required:!0,message:"This field is required",trigger:"blur"}],assetPrice:[{required:!0,message:"This field is required",trigger:"blur"}],fee:[{required:!0,message:"This field is required",trigger:"blur"}],initMaintainanceReserve:[{required:!0,message:"This field is required",trigger:"blur"}],basic:[{required:!0,message:"This field is required",trigger:"blur"}],gold:[{required:!0,message:"This field is required",trigger:"blur"}],premium:[{required:!0,message:"This field is required",trigger:"blur"}]},b=[{key:"single",label:"Single Family"},{key:"multi",label:"Multiple Family"}],j=[{key:"fully",label:"Fully Rented"},{key:"partially",label:"Partially Rented"},{key:"not",label:"Not Rented"}],h=[{key:"true",label:"Yes"},{key:"false",label:"No"}],g=[{key:"tenant-paid",label:"Tenant-Paid always"}];t.default=function(e){var t=Object(c.d)((function(e){return e.property.currentHouse}));Object(a.useEffect)((function(){O({address1:t.address1,address2:t.address2,pos_latitude:t.pos_latitude,pos_longitude:t.pos_longitude,imageData:t.imageData,rentStartsDate:t.rentStartsDate?new Intl.DateTimeFormat("fr-CA",{year:"numeric",month:"2-digit",day:"2-digit"}).format(new Date(t.rentStartsDate)):null,monthlyRentPerToken:t.monthlyRentPerToken,tokenValue:t.tokenValue,generatedToken:t.generatedToken,propertyType:t.propertyType,neighborhood:t.neighborhood,squareFeet:t.squareFeet,lotSize:t.lotSize,bedroomOrBath:t.bedroomOrBath,constructionYear:t.constructionYear,currentStatusOfProperty:t.currentStatusOfProperty,section8:t.section8,monthlyGrossRent:t.monthlyGrossRent,monthlyCosts:t.monthlyCosts,propertyManagementFee:t.propertyManagementFee,platformFee:t.platformFee,tax:t.tax,insuranceFee:t.insuranceFee,utility:t.utility,assetPrice:t.assetPrice,fee:t.fee,initMaintainanceReserve:t.initMaintainanceReserve,basic:t.basic,gold:t.gold,premium:t.premium})}),[t]);var n=Object(a.useState)({address1:null,address2:null,pos_latitude:null,pos_longitude:null,imageData:null,rentStartsDate:null,monthlyRentPerToken:null,tokenValue:null,generatedToken:null,propertyType:null,neighborhood:null,squareFeet:0,lotSize:0,bedroomOrBath:0,constructionYear:null,currentStatusOfProperty:null,section8:null,monthlyGrossRent:0,monthlyCosts:null,propertyManagementFee:null,platformFee:null,tax:0,insuranceFee:0,utility:null,assetPrice:0,fee:0,initMaintainanceReserve:0,basic:3,gold:5,premium:7}),i=Object(r.a)(n,2),y=i[0],O=i[1],x=Object(c.c)(),f=Object(l.g)(),v=Object(a.useRef)(),F=Object(a.useState)(null),I=Object(r.a)(F,2),T=I[0],N=I[1],k=function(e,t){var n=Object.assign({},y);n[e]=t;var r="monthlyGrossRent"==e?t:n.monthlyGrossRent;"monthlyGrossRent"==e?(n.propertyManagementFee=(.08*r).toFixed(2),n.platformFee=(.02*r).toFixed(2)):"generatedToken"!=e&&"assetPrice"!=e||(n.tokenValue=0!=n.generatedToken?(n.assetPrice/parseFloat(n.generatedToken)).toFixed(2):null),n.monthlyCosts=-(-n.propertyManagementFee-n.platformFee-n.tax-n.insuranceFee-n.fee).toFixed(2),n.monthlyRentPerToken=0!=n.generatedToken?(n.monthlyCosts/n.generatedToken).toFixed(2):null,O(n)};return Object(m.jsx)("div",{className:"d-flex flex-column justify-content-center align-items-center overflow-hidden",children:Object(m.jsx)("div",{style:{width:"80%"},children:Object(m.jsx)(o.a,{bottom:!0,delay:200,children:Object(m.jsxs)(s.Form,{ref:v,model:y,rules:p,labelWidth:"100",className:"login-ruleForm d-font-bold",labelPosition:"top",style:{border:"2px solid #03ffa4",margin:20,borderRadius:10},children:[Object(m.jsx)(s.Layout.Row,{style:{fontSize:25,margin:"-1px 0px 15px 0px"},children:Object(m.jsx)(s.Layout.Col,{span:"24",children:Object(m.jsxs)("div",{className:"grid-content d-content-highlight d-flex",style:{borderRadius:"10px 10px 1px 1px"},children:[Object(m.jsx)("div",{className:"ms-3",children:"Property Detail"}),Object(m.jsx)("div",{className:"ms-auto me-3 d-flex align-items-center",children:Object(m.jsx)("img",{src:"imgs/logo3.png",alt:"logo",style:{height:"35px"}})})]})})}),Object(m.jsxs)("div",{className:"container-fluid",children:[Object(m.jsx)("h3",{className:"my-3 text-white",children:"Property Highlights"}),Object(m.jsxs)("div",{className:"row",children:[Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsxs)("div",{className:"bg-white d-flex rounded justify-content-center align-items-center position-relative overflow-hidden d-inline-block w-100",style:{height:150},children:[T?Object(m.jsx)("img",{src:URL.createObjectURL(T),className:"w-100 h-100 img-thumbnail",alt:"img"}):Object(m.jsx)("img",{src:"".concat("https://dineli.com","/public/").concat(t.imageData),className:"w-100 h-100 img-thumbnail",alt:"img"}),Object(m.jsx)("input",{type:"file",onChange:function(e){N(e.target.files[0])},className:"position-absolute top-0 left-0 opacity-0 w-100 h-100 cursor-pointer"})]})}),Object(m.jsxs)("div",{className:"col-md-9 mt-4",children:[Object(m.jsx)(s.Form.Item,{label:"Address1",prop:"address1",children:Object(m.jsx)(s.Input,{type:"text",value:y.address1,onChange:function(e){return k("address1",e)}})}),Object(m.jsx)(s.Form.Item,{label:"Address2",prop:"address2",children:Object(m.jsx)(s.Input,{type:"text",value:y.address2,onChange:function(e){return k("address2",e)}})})]}),Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsx)(s.Form.Item,{label:"Construction Year",prop:"constructionYear",children:Object(m.jsx)(s.Input,{type:"number",value:y.constructionYear,onChange:function(e){return k("constructionYear",e)}})})}),Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsx)(s.Form.Item,{label:"Price",prop:"assetPrice",children:Object(m.jsx)(s.Input,{type:"number",value:y.assetPrice,onChange:function(e){return k("assetPrice",e)}})})}),Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsx)(s.Form.Item,{label:"Type",prop:"propertyType",children:Object(m.jsx)(s.Select,{className:"w-100",value:y.propertyType,onChange:function(e){return k("propertyType",e)},children:b.map((function(e){return Object(m.jsx)(s.Select.Option,{value:e.key,label:e.label,children:e.label})}))})})}),Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsx)(s.Form.Item,{label:"Bedroom/Bath",prop:"bedroomOrBath",children:Object(m.jsx)(s.Input,{type:"number",value:y.bedroomOrBath,onChange:function(e){return k("bedroomOrBath",e)}})})}),Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsx)(s.Form.Item,{label:"Square Feet",prop:"squareFeet",children:Object(m.jsx)(s.Input,{type:"number",value:y.squareFeet,onChange:function(e){return k("squareFeet",e)}})})}),Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsx)(s.Form.Item,{label:"Lot Size",prop:"lotSize",children:Object(m.jsx)(s.Input,{type:"number",value:y.lotSize,onChange:function(e){return k("lotSize",e)}})})}),Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsx)(s.Form.Item,{label:"Neighborhood",prop:"neighborhood",children:Object(m.jsx)(s.Input,{type:"text",value:y.neighborhood,onChange:function(e){return k("neighborhood",e)}})})}),Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsx)(s.Form.Item,{label:"Section 8",prop:"section8",children:Object(m.jsx)(s.Select,{className:"w-100",value:y.section8,onChange:function(e){return k("section8",e)},children:h.map((function(e){return Object(m.jsx)(s.Select.Option,{value:e.key,label:e.label,children:e.label})}))})})}),Object(m.jsx)("div",{className:"col-md-12",children:Object(m.jsx)("hr",{style:{color:"white"}})}),Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsx)(s.Form.Item,{label:"Rent Starts From",prop:"rentStartsDate",children:Object(m.jsx)(s.Input,{type:"date",value:y.rentStartsDate,onChange:function(e){return k("rentStartsDate",e)}})})}),Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsx)(s.Form.Item,{label:"Current Status",prop:"currentStatusOfProperty",children:Object(m.jsx)(s.Select,{className:"w-100",value:y.currentStatusOfProperty,onChange:function(e){return k("currentStatusOfProperty",e)},children:j.map((function(e){return Object(m.jsx)(s.Select.Option,{value:e.key,label:e.label,children:e.label})}))})})}),Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsx)(s.Form.Item,{label:"Utilities",prop:"utility",children:Object(m.jsx)(s.Select,{className:"w-100",value:y.utility,onChange:function(e){return k("utility",e)},children:g.map((function(e){return Object(m.jsx)(s.Select.Option,{value:e.key,label:e.label,children:e.label})}))})})}),Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsx)(s.Form.Item,{label:"Maintain Reserve",prop:"initMaintainanceReserve",children:Object(m.jsx)(s.Input,{type:"number",value:y.initMaintainanceReserve,onChange:function(e){return k("initMaintainanceReserve",e)}})})}),Object(m.jsx)("div",{className:"col-md-12",children:Object(m.jsx)("hr",{style:{color:"white"}})}),Object(m.jsx)("div",{className:"col-md-6 mt-4",children:Object(m.jsx)(s.Form.Item,{label:"Monthly Gross Rent",prop:"monthlyGrossRent",children:Object(m.jsx)(s.Input,{type:"number",value:y.monthlyGrossRent,onChange:function(e){return k("monthlyGrossRent",e)}})})}),Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsx)(s.Form.Item,{label:"Tax",prop:"tax",children:Object(m.jsx)(s.Input,{type:"number",value:y.tax,onChange:function(e){return k("tax",e)}})})}),Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsx)(s.Form.Item,{label:"Insurance",prop:"insuranceFee",children:Object(m.jsx)(s.Input,{type:"number",value:y.insuranceFee,onChange:function(e){return k("insuranceFee",e)}})})}),Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsx)(s.Form.Item,{label:"Fee",prop:"fee",children:Object(m.jsx)(s.Input,{type:"number",value:y.fee,onChange:function(e){return k("fee",e)}})})}),Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsx)(s.Form.Item,{label:"Monthly Cost",prop:"monthlyCosts",children:Object(m.jsx)(s.Input,{type:"number",value:y.monthlyCosts,onChange:function(e){return k("monthlyCosts",e)},disabled:!0})})}),Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsx)(s.Form.Item,{label:"Property Manage Fee",prop:"propertyManagementFee",children:Object(m.jsx)(s.Input,{type:"text",value:y.propertyManagementFee,onChange:function(e){return k("propertyManagementFee",e)},disabled:!0})})}),Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsx)(s.Form.Item,{label:"Platform Fee",prop:"platformFee",children:Object(m.jsx)(s.Input,{type:"text",value:y.platformFee,onChange:function(e){return k("platformFee",e)},disabled:!0})})}),Object(m.jsx)("div",{className:"col-md-12",children:Object(m.jsx)("hr",{style:{color:"white"}})}),Object(m.jsx)("div",{className:"col-md-6 mt-4",children:Object(m.jsx)(s.Form.Item,{label:"Token Amount",prop:"generatedToken",children:Object(m.jsx)(s.Input,{type:"number",value:y.generatedToken,onChange:function(e){return k("generatedToken",e)}})})}),Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsx)(s.Form.Item,{label:"Month Rent Per Token",prop:"monthlyRentPerToken",children:Object(m.jsx)(s.Input,{type:"number",value:y.monthlyRentPerToken,onChange:function(e){return k("monthlyRentPerToken",e)},disabled:!0})})}),Object(m.jsx)("div",{className:"col-md-3 mt-4",children:Object(m.jsx)(s.Form.Item,{label:"Token Value",prop:"tokenValue",children:Object(m.jsx)(s.Input,{type:"number",value:y.tokenValue,onChange:function(e){return k("tokenValue",e)},disabled:!0})})}),Object(m.jsx)("div",{className:"col-md-12",children:Object(m.jsx)("hr",{style:{color:"white"}})}),Object(m.jsx)("div",{className:"col-md-4 mt-4",children:Object(m.jsx)(s.Form.Item,{label:"basic",prop:"basic",children:Object(m.jsx)(s.Input,{type:"number",value:y.basic,onChange:function(e){return k("basic",e)}})})}),Object(m.jsx)("div",{className:"col-md-4 mt-4",children:Object(m.jsx)(s.Form.Item,{label:"gold",prop:"gold",children:Object(m.jsx)(s.Input,{type:"number",value:y.gold,onChange:function(e){return k("gold",e)}})})}),Object(m.jsx)("div",{className:"col-md-4 mt-4",children:Object(m.jsx)(s.Form.Item,{label:"premium",prop:"premium",children:Object(m.jsx)(s.Input,{type:"number",value:y.premium,onChange:function(e){return k("premium",e)}})})})]})]}),Object(m.jsx)(s.Form.Item,{style:{textAlign:"center"},children:Object(m.jsx)(s.Button,{type:"primary",nativeType:"submit",onClick:function(e){e.preventDefault(),v.current.validate((function(e){var n=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).accessToken:null;if(T){var r=new FormData;r.append("img",T,T.name),Object(d.d)("/api/admin/image/upload",r,n).then((function(e){console.log("[Image Uploaded]",e);var n=Object.assign({},y);n.imageData=[e.data.imgPath],n.id=t.id,x(Object(u.d)(n)),f.push("/admin/properties")})).catch((function(e){console.log("[Image Upload Fail]",e)}))}else{var a=Object.assign({},y);delete a.imageData,a.id=t.id,x(Object(u.d)(a)),f.push("/admin/properties")}}))},children:"Update"})})]})})})})}},420:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u}));var r=n(35),a=n(419),l=n(107),s=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).accessToken:null,i=function(e){return function(t){Object(a.d)("/api/admin/property",e,s).then((function(n){l.Notification.success({title:"Success",message:"House Properties Submit Success!",type:"success"}),t({type:r.a,payload:e})})).catch((function(e){console.log(e),l.Notification.error({title:"Failed",message:"Please try again.",type:"Warning"})}))}},o=function(e){return function(t){Object(a.d)("/api/admin/property/update",e,s).then((function(n){l.Notification.success({title:"Success",message:"House Properties Update Success!",type:"success"}),t({type:r.f,payload:e})})).catch((function(e){console.log(e),l.Notification.error({title:"Failed",message:"Please try again.",type:"Warning"})}))}},c=function(e){return function(t){return Object(a.c)("/api/property?count=".concat(e)).then((function(e){for(var n=e.data,a=0;a<n.length;a++)n[a].monthlyNetRent=n[a].monthlyGrossRent-n[a].monthlyCosts,n[a].yearlyNetRent=12*(n[a].monthlyGrossRent-n[a].monthlyCosts),n[a].fee=n[a].generatedToken*n[a].tokenValue*10/100,n[a].totalInvestment=n[a].generatedToken*n[a].tokenValue+n[a].initMaintainanceReserve+n[a].fee,n[a].expectedYield=12*(n[a].monthlyGrossRent-n[a].monthlyCosts)/(n[a].generatedToken*n[a].tokenValue)*100,n[a].imageData=n[a].imageData.split(",");t({type:r.d,payload:n})})).catch((function(e){t({type:r.e})}))}},u=function(e){return function(t){return Object(a.c)("/api/property/id?ID=".concat(e)).then((function(e){var n=e.data;return n.monthlyGrossRent=n.monthlyGrossRent,n.monthlyNetRent=n.monthlyGrossRent-n.monthlyCosts,n.yearlyNetRent=12*(n.monthlyGrossRent-n.monthlyCosts),n.fee=n.generatedToken*n.tokenValue*10/100,n.totalInvestment=n.generatedToken*n.tokenValue+n.initMaintainanceReserve+n.fee,n.expectedYield=12*(n.monthlyGrossRent-n.monthlyCosts)/parseFloat(n.generatedToken*n.tokenValue)*100,n.imageData=n.imageData.split(","),t({type:r.b,payload:n})})).catch((function(e){return t({type:r.c})}))}}}}]);
//# sourceMappingURL=35.42bfb944.chunk.js.map