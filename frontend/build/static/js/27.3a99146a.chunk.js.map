{"version":3,"sources":["views/Admin/AdminProperty.js","redux/actions/property.js","../node_modules/react-bootstrap/esm/Table.js"],"names":["AdminProperty","props","history","useHistory","dispatch","useDispatch","properties","useSelector","state","property","propertyData","useEffect","actionPropertyList","className","style","width","bottom","delay","textAlign","to","type","onClick","labelPosition","border","borderRadius","Row","fontSize","margin","Col","span","src","alt","height","striped","hover","variant","minWidth","map","item","key","e","index","id","actionPropertyGet","push","imageData","length","process","address1","address2","Intl","DateTimeFormat","year","month","day","format","Date","rentStartsDate","monthlyRentPerToken","tokenValue","generatedToken","propertyType","neighborhood","bedroomOrBath","monthlyGrossRent","monthlyCosts","tax","basic","gold","premium","token","localStorage","getItem","JSON","parse","actionPropertyCreate","callPost","then","response","Notification","success","title","message","ACTION_PROPERTY_ADD","payload","catch","err","console","log","error","actionPropertyUpdate","ACTION_PROPERTY_UPDATE","count","callGet","result","data","i","monthlyNetRent","yearlyNetRent","totalInvestment","expectedYield","split","ACTION_PROPERTY_LIST","ACTION_PROPERTY_LIST_FAIL","ID","parseFloat","ACTION_PROPERTY_GET","ACTION_PROPERTY_GET_FAIL","_excluded","Table","React","forwardRef","_ref","ref","bsPrefix","bordered","borderless","size","responsive","_objectWithoutPropertiesLoose","decoratedBsPrefix","useBootstrapPrefix","classes","classNames","table","createElement","_extends","responsiveClass"],"mappings":"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","file":"static/js/27.3a99146a.chunk.js","sourcesContent":["import React, { useEffect } from \"react\"\r\nimport { Button, Layout } from \"element-react\"\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Fade from \"react-reveal/Fade\"\r\nimport { Table as TableBs } from 'react-bootstrap';\r\nimport { Link } from \"react-router-dom\"\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { actionPropertyList, actionPropertyGet} from \"../../redux/actions/property\";\r\n\r\nconst AdminProperty = props => {\r\n  let history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const properties = useSelector(state => state.property.propertyData);\r\n\r\n  useEffect(()=>{\r\n    // if(!properties)\r\n      dispatch(actionPropertyList());\r\n  },[])\r\n  const onNewClicked = () => {\r\n\r\n  }\r\n\r\n  const onPropertyClicked = (e, index) => {\r\n    // console.log('index', index);\r\n    dispatch(actionPropertyGet(index));\r\n    history.push('/admin/properties/update');\r\n  }\r\n\r\n  return (\r\n    <div className=\"d-flex flex-column justify-content-center align-items-center\">\r\n      <div style={{ width: '80%' }}>\r\n        <Fade bottom delay={200}>\r\n          <h1 style={{ textAlign: \"center\" }} className='d-font-bold d-text-90 d-white'>Properties</h1>\r\n          <div className=\"d-flex\">\r\n            <Link to=\"/admin/properties/new\" className=\"ms-auto\">\r\n              <Button type=\"outlined\" onClick={onNewClicked}>New Property</Button>\r\n            </Link>\r\n          </div>\r\n          <div className=\"login-ruleForm mt-4\" labelPosition={\"top\"} style={{ border: \"2px solid #03ffa4\", borderRadius: \"10px 10px 0 0\" }}>\r\n            <Layout.Row style={{ fontSize: 25, margin: \"-1px 0px 0 0px\" }}>\r\n              <Layout.Col span=\"24\">\r\n                <div className=\"grid-content d-content-highlight d-flex\" style={{ borderRadius: \"10px 10px 1px 1px\" }}>\r\n                  <div className=\"ms-3\">List</div>\r\n                  <div className=\"ms-auto me-3 d-flex align-items-center\">\r\n                    <img src=\"imgs/logo3.png\" alt='logo' style={{ height: \"35px\" }} />\r\n                  </div>\r\n                </div>\r\n              </Layout.Col>\r\n            </Layout.Row>\r\n\r\n            <div className=\"w-100 overflow-auto\">\r\n              <TableBs striped hover variant=\"dark\" style={{ margin: 0 }} className=\"text-center\">\r\n                <thead>\r\n                  <tr>\r\n                    <th className=\"bg-secondary\">#</th>\r\n                    <th className=\"bg-secondary\">Image</th>\r\n                    <th className=\"bg-secondary\" style={{ minWidth: 100 }}>Address 1</th>\r\n                    <th className=\"bg-secondary\" style={{ minWidth: 100 }}>Address 2</th>\r\n                    <th className=\"bg-secondary\" style={{ minWidth: 100 }}>Start Date</th>\r\n                    <th className=\"bg-secondary\" style={{ minWidth: 200 }}>Monthly Rent Per Token</th>\r\n                    <th className=\"bg-secondary\" style={{ minWidth: 110 }}>Token Value</th>\r\n                    <th className=\"bg-secondary\" style={{ minWidth: 150 }}>Generated Token</th>\r\n                    <th className=\"bg-secondary\" style={{ minWidth: 130 }}>Property Type</th>\r\n                    <th className=\"bg-secondary\" style={{ minWidth: 100 }}>Neighborhood</th>\r\n                    <th className=\"bg-secondary\" style={{ minWidth: 140 }}>Bed Room/Bath</th>\r\n                    <th className=\"bg-secondary\" style={{ minWidth: 170 }}>Monthly Gross Rent</th>\r\n                    <th className=\"bg-secondary\" style={{ minWidth: 130 }}>Monthly Costs</th>\r\n                    <th className=\"bg-secondary\">Taxes</th>\r\n                    <th className=\"bg-secondary\">Basic</th>\r\n                    <th className=\"bg-secondary\">Gold</th>\r\n                    <th className=\"bg-secondary\">Premium</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {\r\n                    properties.map((item, key) =>\r\n                      <tr key={key} onClick={(e)=>onPropertyClicked(e,item.id)}>\r\n                        <td>{key + 1}</td>\r\n                        <td>\r\n                          {\r\n                            item.imageData.length ?\r\n                            <img src={`${process.env.REACT_APP_API_ENDPOINT}/public/${item.imageData[0]}`} alt=\"img\" width=\"100\" />\r\n                            : ''\r\n                          }\r\n                        </td>\r\n                        <td>{item.address1}</td>\r\n                        <td>{item.address2}</td>\r\n                        <td>{new Intl.DateTimeFormat('en-US', { year: 'numeric', month: '2-digit', day: '2-digit' }).format(new Date(item.rentStartsDate))}</td>\r\n                        <td>${item.monthlyRentPerToken}</td>\r\n                        <td>${item.tokenValue}</td>\r\n                        <td>{item.generatedToken}</td>\r\n                        <td>{item.propertyType}</td>\r\n                        <td>{item.neighborhood}</td>\r\n                        <td>{item.bedroomOrBath}</td>\r\n                        <td>${item.monthlyGrossRent}</td>\r\n                        <td>${item.monthlyCosts}</td>\r\n                        <td>${item.tax}</td>\r\n                        <td>{item.basic}</td>\r\n                        <td>{item.gold}</td>\r\n                        <td>{item.premium}</td>\r\n                      </tr>\r\n                    )\r\n                  }\r\n\r\n                </tbody>\r\n              </TableBs>\r\n            </div>\r\n\r\n\r\n          </div>\r\n        </Fade>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AdminProperty;","import {\r\n  ACTION_PROPERTY_ADD,\r\n  ACTION_PROPERTY_UPDATE,\r\n  ACTION_PROPERTY_LIST,\r\n  ACTION_PROPERTY_LIST_FAIL,\r\n  ACTION_PROPERTY_GET,\r\n  ACTION_PROPERTY_GET_FAIL,\r\n} from '../actionTypes/property'\r\n\r\nimport { callGet, callPost, } from '../../services/axios'\r\nimport { Notification } from 'element-react'\r\n\r\nconst token = localStorage.getItem('user') ? JSON.parse(localStorage.getItem('user'))['accessToken'] : null\r\n\r\nexport const actionPropertyCreate = (propertyData) => (dispatch) => {\r\n  callPost('/api/admin/property', propertyData, token)\r\n    .then((response) => {\r\n      Notification.success({\r\n        title: 'Success',\r\n        message: 'House Properties Submit Success!',\r\n        type: 'success',\r\n      })\r\n      dispatch({\r\n        type: ACTION_PROPERTY_ADD,\r\n        payload: propertyData,\r\n      })\r\n    }).catch(err => {\r\n      console.log(err);\r\n      Notification.error({\r\n        title: 'Failed',\r\n        message: 'Please try again.',\r\n        type: 'Warning',\r\n      })\r\n    }\r\n    )\r\n}\r\n\r\nexport const actionPropertyUpdate = (propertyData) => (dispatch) => {\r\n  // console.log('token', token);\r\n  callPost('/api/admin/property/update', propertyData, token)\r\n    .then((response) => {\r\n      Notification.success({\r\n        title: 'Success',\r\n        message: 'House Properties Update Success!',\r\n        type: 'success',\r\n      })\r\n      dispatch({\r\n        type: ACTION_PROPERTY_UPDATE,\r\n        payload: propertyData,\r\n      })\r\n    }).catch(err => {\r\n      console.log(err);\r\n      Notification.error({\r\n        title: 'Failed',\r\n        message: 'Please try again.',\r\n        type: 'Warning',\r\n      })\r\n    }\r\n    )\r\n}\r\n\r\nexport const actionPropertyList = (count) => (dispatch) => {\r\n  return callGet(`/api/property?count=${count}`)\r\n    .then(function (response) {\r\n      let result = response.data\r\n      // console.log(\"result\",result);\r\n      for (let i = 0; i < result.length; i++) {\r\n        result[i].monthlyNetRent = result[i].monthlyGrossRent - result[i].monthlyCosts;\r\n        result[i].yearlyNetRent = (result[i].monthlyGrossRent - result[i].monthlyCosts) * 12\r\n        result[i].totalInvestment = result[i].generatedToken * result[i].tokenValue\r\n        result[i].expectedYield = (result[i].monthlyGrossRent - result[i].monthlyCosts) * 12\r\n          / (result[i].generatedToken * result[i].tokenValue) * 100;\r\n\r\n        result[i].imageData = result[i].imageData.split(',')\r\n      }\r\n      dispatch({\r\n        type: ACTION_PROPERTY_LIST,\r\n        payload: result,\r\n      })\r\n    })\r\n    .catch((error) => {\r\n      dispatch({\r\n        type: ACTION_PROPERTY_LIST_FAIL,\r\n      })\r\n    }\r\n    )\r\n}\r\n\r\nexport const actionPropertyGet = (ID) => (dispatch) => {\r\n  return callGet(`/api/property/id?ID=${ID}`)\r\n    .then(function (response) {\r\n      let result = response.data\r\n      result.monthlyGrossRent = result.monthlyGrossRent\r\n      result.monthlyNetRent = result.monthlyGrossRent - result.monthlyCosts;\r\n      result.yearlyNetRent = (result.monthlyGrossRent - result.monthlyCosts) * 12\r\n      result.totalInvestment = result.generatedToken * result.tokenValue\r\n      result.expectedYield = (result.monthlyGrossRent - result.monthlyCosts) * 12 / parseFloat(result.generatedToken * result.tokenValue) * 100;\r\n      result.imageData = result.imageData.split(',')\r\n\r\n      return dispatch({\r\n        type: ACTION_PROPERTY_GET,\r\n        payload: result,\r\n      })\r\n    })\r\n    .catch((error) => {\r\n      return dispatch({\r\n        type: ACTION_PROPERTY_GET_FAIL,\r\n      })\r\n    }\r\n    )\r\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"bsPrefix\", \"className\", \"striped\", \"bordered\", \"borderless\", \"hover\", \"size\", \"variant\", \"responsive\"];\nimport classNames from 'classnames';\nimport React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nvar Table = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      className = _ref.className,\n      striped = _ref.striped,\n      bordered = _ref.bordered,\n      borderless = _ref.borderless,\n      hover = _ref.hover,\n      size = _ref.size,\n      variant = _ref.variant,\n      responsive = _ref.responsive,\n      props = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var decoratedBsPrefix = useBootstrapPrefix(bsPrefix, 'table');\n  var classes = classNames(className, decoratedBsPrefix, variant && decoratedBsPrefix + \"-\" + variant, size && decoratedBsPrefix + \"-\" + size, striped && decoratedBsPrefix + \"-striped\", bordered && decoratedBsPrefix + \"-bordered\", borderless && decoratedBsPrefix + \"-borderless\", hover && decoratedBsPrefix + \"-hover\");\n  var table = /*#__PURE__*/React.createElement(\"table\", _extends({}, props, {\n    className: classes,\n    ref: ref\n  }));\n\n  if (responsive) {\n    var responsiveClass = decoratedBsPrefix + \"-responsive\";\n\n    if (typeof responsive === 'string') {\n      responsiveClass = responsiveClass + \"-\" + responsive;\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: responsiveClass\n    }, table);\n  }\n\n  return table;\n});\nexport default Table;"],"sourceRoot":""}