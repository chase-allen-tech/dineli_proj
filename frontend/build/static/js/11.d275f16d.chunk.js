(this.webpackJsonpdineli=this.webpackJsonpdineli||[]).push([[11],{1099:function(e,t,n){"use strict";n.r(t);var a=n(435),i=n.n(a),s=n(461),c=n(112),r=n(1),o=n(107),u=n(110),l=n.n(u),d=n(434),p=n(1112),y=n(109),m=n(439),f=n(482),b=(n(564),n(9)),j=["NONE","BASIC","GOLD","PREMIUM"],h=["NONE","USER","MODERATOR","ADMIN"];t.default=function(e){var t,n,a,u=Object(y.c)(),x=Object(r.useState)(-1),O=Object(c.a)(x,2),g=O[0],v=O[1],T=Object(y.d)((function(e){return e.user.userData}));Object(y.d)((function(e){return e.token.tokenData})),Object(y.d)((function(e){return e.credential.credentialData}));Object(r.useEffect)((function(){u(Object(m.b)()),u(Object(f.b)())}),[]);var N=function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n={id:T[g].id,role:t.target.role.value,type:t.target.type.value},v(-1),u(Object(m.d)(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"d-flex flex-column justify-content-center align-items-center overflow-hidden",children:[Object(b.jsx)("div",{style:{width:"80%"},children:Object(b.jsxs)(l.a,{bottom:!0,delay:200,children:[Object(b.jsx)("h1",{style:{textAlign:"center"},className:"d-font-bold d-text-90 d-white",children:"Users"}),Object(b.jsxs)("div",{className:"login-ruleForm mt-4",labelposition:"top",style:{border:"2px solid #03ffa4",borderRadius:"10px 10px 0 0"},children:[Object(b.jsx)(o.Layout.Row,{style:{fontSize:25,margin:"-1px 0px 0 0px"},children:Object(b.jsx)(o.Layout.Col,{span:"24",children:Object(b.jsxs)("div",{className:"grid-content d-content-highlight d-flex",style:{borderRadius:"10px 10px 1px 1px"},children:[Object(b.jsx)("div",{className:"ms-3",children:"List"}),Object(b.jsx)("div",{className:"ms-auto me-3 d-flex align-items-center",children:Object(b.jsx)("img",{src:"imgs/logo3.png",alt:"logo",style:{height:"35px"}})})]})})}),Object(b.jsx)("div",{className:"w-100 overflow-auto",children:Object(b.jsxs)(d.a,{striped:!0,hover:!0,variant:"dark",style:{margin:0},className:"text-center",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{className:"bg-secondary",children:"#"}),Object(b.jsx)("th",{className:"bg-secondary",style:{minWidth:130},children:"Email"}),Object(b.jsx)("th",{className:"bg-secondary",style:{minWidth:130},children:"Wallet Address"}),Object(b.jsx)("th",{className:"bg-secondary",style:{minWidth:130},children:"Role"}),Object(b.jsx)("th",{className:"bg-secondary",style:{minWidth:130},children:"Type"})]})}),Object(b.jsx)("tbody",{children:T.map((function(e,t){return Object(b.jsxs)("tr",{onClick:function(e){console.log("user",T[t]),v(t)},style:{cursor:"pointer"},children:[Object(b.jsx)("td",{children:t+1}),Object(b.jsx)("td",{children:e.email}),Object(b.jsx)("td",{children:e.walletAddress}),Object(b.jsx)("td",{children:e.role[0]}),Object(b.jsx)("td",{children:j[e.type]})]},t)}))})]})})]})]})}),Object(b.jsxs)(p.a,{show:g>=0,onHide:function(){return v(-1)},children:[Object(b.jsx)(p.a.Header,{children:Object(b.jsx)(p.a.Title,{children:"Change Role or Type"})}),Object(b.jsx)(p.a.Body,{children:Object(b.jsxs)("form",{onSubmit:N,children:[Object(b.jsx)("div",{className:"form-group",children:null===(t=T[g])||void 0===t?void 0:t.email}),Object(b.jsxs)("div",{className:"form-group mt-2",children:[Object(b.jsx)("label",{children:"Role:"}),Object(b.jsx)("select",{className:"form-select",name:"role",defaultValue:h.indexOf(null===(n=T[g])||void 0===n?void 0:n.role[0]),children:null===h||void 0===h?void 0:h.map((function(e,t){return Object(b.jsx)("option",{value:t,children:e},t)}))})]}),Object(b.jsxs)("div",{className:"form-group mt-2",children:[Object(b.jsx)("label",{children:"Type:"}),Object(b.jsx)("select",{className:"form-select",name:"type",defaultValue:null===(a=T[g])||void 0===a?void 0:a.type,children:null===j||void 0===j?void 0:j.map((function(e,t){return Object(b.jsx)("option",{value:t,children:e},t)}))})]}),Object(b.jsxs)(p.a.Footer,{children:[Object(b.jsx)(o.Button,{variant:"secondary",onClick:function(){return v(-1)},children:"Close"}),Object(b.jsx)("button",{type:"submit",className:"btn btn-secondary ms-2",children:"Change"})]})]})})]})]})}},439:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l}));var a=n(53),i=n(420),s=n(107),c=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).accessToken:null,r=function(e){return function(t){Object(i.d)("/api/admin/user",e,c).then((function(n){s.Notification.success({title:"Success",message:"House Properties Submit Success!",type:"success"}),t({type:a.a,payload:e})})).catch((function(e){console.log(e),s.Notification.error({title:"Failed",message:"Please try again.",type:"Warning"})}))}},o=function(e){return function(t){return Object(i.c)("/api/user?count=".concat(e)).then((function(e){var n=e.data;t({type:a.b,payload:n})})).catch((function(e){t({type:a.c})}))}},u=function(e){return function(t){Object(i.d)("/api/admin/user/update",e,c).then((function(e){console.log("[res]",e)})).catch((function(e){console.log(e),s.Notification.error({title:"Failed",message:"Transaction update failed. Please try again.",type:"Warning"})}))}},l=function(e){return function(t){Object(i.d)("/api/admin/user/updateroletype",e,c).then((function(n){console.log("[res]",n),s.Notification.success({title:"Success",message:"User's role and type changed Success!",type:"success"}),t({type:a.d,payload:e})})).catch((function(e){console.log(e),s.Notification.error({title:"Failed",message:"Transaction update failed. Please try again.",type:"Warning"})}))}}},482:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var a=n(48),i=n(420),s=n(107),c=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).accessToken:null,r=function(e){return function(t){Object(i.d)("/api/admin/token",e,c).then((function(n){s.Notification.success({title:"Success",message:"House Properties Submit Success!",type:"success"}),t({type:a.a,payload:e})})).catch((function(e){console.log(e),s.Notification.error({title:"Failed",message:"Please try again.",type:"Warning"})}))}},o=function(e){return function(t){return Object(i.c)("/api/token?count=".concat(e)).then((function(e){var n=e.data;t({type:a.d,payload:n})})).catch((function(e){t({type:a.e})}))}}},564:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(435),i=n.n(a),s=n(461),c=n(604),r=n.n(c),o=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}];var u=function(){var e=Object(s.a)(i.a.mark((function e(t,n,a,s,c,u,l){var d,p,y,m,f,b,j;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=new r.a(new r.a.providers.HttpProvider(t)),p=d.utils.toHex(62e5),e.prev=2,y=new d.eth.Contract(o,c),u=d.utils.toWei(u,"ether"),m=y.methods.transfer(s,u).encodeABI(),f={gasLimit:p,to:c,data:m,chainId:l},e.next=9,d.eth.accounts.signTransaction(f,n);case 9:return b=e.sent,e.next=12,d.eth.sendSignedTransaction(b.rawTransaction);case 12:return j=e.sent,console.log("[transfer result]",j),e.abrupt("return",{success:!0,data:j});case 17:return e.prev=17,e.t0=e.catch(2),console.log("[err]",e.t0),e.abrupt("return",{success:!1});case 21:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t,n,a,i,s,c,r){return e.apply(this,arguments)}}()},611:function(e,t){},613:function(e,t){},621:function(e,t){},622:function(e,t){},630:function(e,t){},631:function(e,t){},651:function(e,t){},652:function(e,t){},661:function(e,t){},662:function(e,t){},682:function(e,t){},684:function(e,t){},685:function(e,t){},686:function(e,t){},687:function(e,t){},692:function(e,t){},698:function(e,t){},701:function(e,t){},703:function(e,t){},710:function(e,t){}}]);
//# sourceMappingURL=11.d275f16d.chunk.js.map