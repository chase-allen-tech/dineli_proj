(this.webpackJsonpdineli=this.webpackJsonpdineli||[]).push([[18],{1046:function(e,t,n){},1086:function(e,t,n){"use strict";n.r(t);var r=n(18),c=n(489),o=n(419),s=n(1),a=n(106),i=n(12),l=n(66),d=n(433),u=(n(1046),n(108)),b=n(420),j=n(9);t.default=function(e){var t=Object(s.useState)(!0),n=Object(o.a)(t,2),h=n[0],m=n[1],f=Object(i.g)(),y=Object(i.h)().productID,O=Object(u.c)(),p=Object(u.d)((function(e){return e.property.currentHouse}));console.log("product]",p);var g=Object(s.useState)([]),x=Object(o.a)(g,2),v=x[0],N=x[1],k=Object(s.useState)({}),S=Object(o.a)(k,2),w=S[0],I=S[1];Object(s.useEffect)((function(){localStorage.getItem("user")||(localStorage.removeItem("cartProducts"),f.goBack()),window.scrollTo(0,0)}),[]),Object(s.useEffect)((function(){O(Object(b.b)(y))}),[y]),Object(s.useEffect)((function(){var e=JSON.parse(localStorage.getItem("cartProducts"));if(e=e&&e.length?e:[],"null"===y)N(e);else{if(!p||0===Object.keys(p).length)return;e.find((function(e){return e.id===p.id}))||e.push(p),N(e),e.length>0&&localStorage.setItem("cartProducts",JSON.stringify(e))}console.log(e);var t,n={},r=Object(c.a)(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;n[o.id.toString()]=o.tokenQuantity?Number(o.tokenQuantity):0}}catch(s){r.e(s)}finally{r.f()}I(n)}),[p]);return Object(j.jsxs)("div",{style:{margin:"3% 12%",border:"none"},children:[Object(j.jsx)(a.Layout.Row,{children:Object(j.jsx)(a.Layout.Col,{span:"24",children:Object(j.jsx)("div",{className:"grid-content",children:Object(j.jsx)("div",{className:"block",children:Object(j.jsx)("span",{className:"wrapper",children:Object(j.jsx)(l.b,{to:"/marketplace",children:Object(j.jsx)(a.Button,{type:"success",className:"d-font-bold d-text-28",style:{background:"#03ffa4",color:"black",borderRadius:10},children:"CONTINUE SHOPPING"})})})})})})}),Object(j.jsxs)(d.a,{striped:!0,hover:!0,variant:"dark",style:{margin:0},className:"text-center mt-4",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{className:"bg-secondary"}),Object(j.jsx)("th",{className:"bg-secondary",children:"Asset Price"}),Object(j.jsx)("th",{className:"bg-secondary",style:{minWidth:100},children:"Token Price"}),Object(j.jsx)("th",{className:"bg-secondary",style:{minWidth:100},children:"Total Fees"}),Object(j.jsx)("th",{className:"bg-secondary",style:{minWidth:100},children:"Purchase Price"}),Object(j.jsx)("th",{className:"bg-secondary",style:{minWidth:200},children:"Quantity"}),Object(j.jsx)("th",{className:"bg-secondary",style:{minWidth:110},children:"Subtotal"})]})}),Object(j.jsx)("tbody",{children:v.map((function(e,t){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:Object(j.jsx)("div",{onClick:function(){return function(e){console.log("[enter]",e);var t=JSON.parse(localStorage.getItem("cartProducts")),n=t.findIndex((function(t){return t.id===e}));console.log(t,n),t.splice(n,1),console.log(t),localStorage.setItem("cartProducts",JSON.stringify(t)),N(t);var r=w;delete r[e.toString()],I(r)}(e.id)},children:Object(j.jsx)(a.Icon,{className:"product-cart-delete",name:"circle-cross",style:{color:"white",cursor:"pointer"}})})}),Object(j.jsx)("td",{children:Object(j.jsx)("img",{src:"".concat("https://dineli.com","/public/").concat(e.imageData[0]),alt:"img",width:"100"})}),Object(j.jsxs)("td",{children:["$",null===e||void 0===e?void 0:e.assetPrice]}),Object(j.jsx)("td",{children:null===e||void 0===e?void 0:e.monthlyCosts}),Object(j.jsxs)("td",{children:["$",null===e||void 0===e?void 0:e.tokenValue]}),Object(j.jsx)("td",{children:Object(j.jsx)(a.Input,{type:"number",value:w[e.id.toString()],onChange:function(t){return function(e,t){var n=Object.assign({},w);n[e]=t,I(n);var c=Object(r.a)(v),o=c.findIndex((function(t){return t.id===Number(e)}));c[o].tokenQuantity=t,localStorage.setItem("cartProducts",JSON.stringify(c))}(e.id.toString(),t)}})}),Object(j.jsxs)("td",{children:["$",(null===e||void 0===e?void 0:e.tokenValue)*w[e.id.toString()]]})]},t)}))})]}),Object(j.jsx)(a.Layout.Row,{children:Object(j.jsx)(a.Layout.Col,{span:"24",style:{marginTop:30,textAlign:"right"},children:Object(j.jsx)("div",{className:"grid-content",children:Object(j.jsx)("div",{className:"block",children:Object(j.jsx)("span",{className:"wrapper",children:Object(j.jsx)(a.Button,{type:"success",className:"d-font-bold d-text-28",style:{background:"#03ffa4",color:"black",borderRadius:10},children:"UPDATE CART"})})})})})}),Object(j.jsxs)(a.Layout.Row,{children:[Object(j.jsx)(a.Layout.Col,{md:"14",style:{marginTop:20},children:Object(j.jsx)("div",{className:"grid-content"})}),Object(j.jsx)(a.Layout.Col,{md:"10",style:{marginTop:20},children:Object(j.jsxs)("div",{className:"grid-content",children:[Object(j.jsx)("div",{className:"block",children:Object(j.jsx)("label",{className:"d-font-bold d-text-48 d-white",children:"Cart Totals"})}),Object(j.jsxs)(a.Layout.Row,{style:{marginTop:30},children:[Object(j.jsx)(a.Layout.Col,{span:"12",children:Object(j.jsx)("div",{className:"grid-content d-font-bold d-text-28 d-white",children:"Total"})}),Object(j.jsx)(a.Layout.Col,{span:"12",children:Object(j.jsx)("div",{className:"grid-content d-font-bold d-text-28 d-white",style:{textAlign:"right"},children:"$51.67"})})]}),Object(j.jsx)("div",{className:"block",style:{marginTop:30},children:Object(j.jsx)("span",{className:"wrapper",children:Object(j.jsx)(l.b,{to:"/checkout",children:Object(j.jsx)(a.Button,{type:"success",className:"d-font-bold d-text-28",style:{width:"100%",background:"#03ffa4",color:"black",borderRadius:10},children:"PROCEED TO CHECKOUT"})})})}),Object(j.jsxs)("div",{style:{border:"1px solid #03ffa4",marginTop:20},children:[Object(j.jsx)("div",{className:"block",style:{textAlign:"center",margin:10},children:Object(j.jsx)("label",{className:"d-font-bold d-text-24 d-white",children:"IS THIS ORDER A GIFT?"})}),Object(j.jsx)("div",{className:"block",style:{textAlign:"center"},children:Object(j.jsx)("label",{onClick:function(){m(!h)},className:"d-font-bold d-text-24 d-white",style:{textDecoration:"underline"},children:"Learn More "})}),h&&Object(j.jsxs)("div",{className:"block",style:{textAlign:"justify",margin:20},children:[Object(j.jsx)("p",{className:"d-font-book d-text-20 d-white",children:"To make your order a gift, just check 'This order is a gift' at checkout, then enter the recipient's name, email, and your preferred delivery date. We'll email you a printable certificate to give in person, and we'll email that certificate to the gift recipient on the delivery date, too. "}),Object(j.jsx)("p",{className:"d-font-book d-text-20 d-white",children:"The recipient can follow a simple link or QR code to register and complete ID verification, including registering an Ethereum wallet. When they're done, we'll dispense their gift tokens!"}),Object(j.jsxs)("p",{className:"d-font-book d-text-20 d-white",children:[Object(j.jsx)("strong",{children:"Note:"})," Tokens may not yet be gifted to minors."]}),Object(j.jsxs)("p",{className:"d-font-book d-text-20 d-white",children:[Object(j.jsx)("strong",{children:"Important: "}),"Gift recipients who are U.S. citizens or residents must be verified as Accredited Investors before we can dispense their gifts."]})]})]})]})})]})]})}},419:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(110);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,c=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(i){c=!0,o=i}finally{try{r||null==a.return||a.return()}finally{if(c)throw o}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},420:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return l}));var r=n(45),c=n(418),o=n(106),s=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")).accessToken:null,a=function(e){return function(t){Object(c.d)("/api/admin/property",e,s).then((function(n){o.Notification.success({title:"Success",message:"House Properties Submit Success!",type:"success"}),t({type:r.a,payload:e})})).catch((function(e){console.log(e),o.Notification.error({title:"Failed",message:"Please try again.",type:"Warning"})}))}},i=function(e){return function(t){return Object(c.c)("/api/property?count=".concat(e)).then((function(e){for(var n=e.data,c=0;c<n.length;c++)n[c].monthlyNetRent=n[c].monthlyGrossRent-n[c].monthlyCosts,n[c].yearlyNetRent=12*(n[c].monthlyGrossRent-n[c].monthlyCosts),n[c].totalInvestment=n[c].generatedToken*n[c].tokenValue,n[c].expectedYield=12*(n[c].monthlyGrossRent-n[c].monthlyCosts)/(n[c].generatedToken*n[c].tokenValue),n[c].imageData=n[c].imageData.split(",");t({type:r.d,payload:n})})).catch((function(e){t({type:r.e})}))}},l=function(e){return function(t){return Object(c.c)("/api/property/id?ID=".concat(e)).then((function(e){var n=e.data;return n.monthlyGrossRent=n.monthlyGrossRent,n.monthlyNetRent=n.monthlyGrossRent-n.monthlyCosts,n.yearlyNetRent=12*(n.monthlyGrossRent-n.monthlyCosts),n.totalInvestment=n.generatedToken*n.tokenValue,n.expectedYield=12*(n.monthlyGrossRent-n.monthlyCosts)/parseFloat(n.generatedToken*n.tokenValue),n.imageData=n.imageData.split(","),t({type:r.b,payload:n})})).catch((function(e){return t({type:r.c})}))}}},433:function(e,t,n){"use strict";var r=n(10),c=n(14),o=n(65),s=n.n(o),a=n(1),i=n.n(a),l=n(107),d=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],u=i.a.forwardRef((function(e,t){var n=e.bsPrefix,o=e.className,a=e.striped,u=e.bordered,b=e.borderless,j=e.hover,h=e.size,m=e.variant,f=e.responsive,y=Object(c.a)(e,d),O=Object(l.a)(n,"table"),p=s()(o,O,m&&O+"-"+m,h&&O+"-"+h,a&&O+"-striped",u&&O+"-bordered",b&&O+"-borderless",j&&O+"-hover"),g=i.a.createElement("table",Object(r.a)({},y,{className:p,ref:t}));if(f){var x=O+"-responsive";return"string"===typeof f&&(x=x+"-"+f),i.a.createElement("div",{className:x},g)}return g}));t.a=u},489:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(110);function c(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Object(r.a)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var c=0,o=function(){};return{s:o,n:function(){return c>=e.length?{done:!0}:{done:!1,value:e[c++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,i=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){i=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(i)throw s}}}}}}]);
//# sourceMappingURL=18.ce345c69.chunk.js.map